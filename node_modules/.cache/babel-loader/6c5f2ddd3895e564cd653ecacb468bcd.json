{"remainingRequest":"/Users/lijiayu/Downloads/shangcheng-main/node_modules/babel-loader/lib/index.js!/Users/lijiayu/Downloads/shangcheng-main/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/lijiayu/Downloads/shangcheng-main/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/lijiayu/Downloads/shangcheng-main/src/components/form-init/index.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/lijiayu/Downloads/shangcheng-main/src/components/form-init/index.vue","mtime":1669541729000},{"path":"/Users/lijiayu/Downloads/shangcheng-main/node_modules/cache-loader/dist/cjs.js","mtime":1669614083651},{"path":"/Users/lijiayu/Downloads/shangcheng-main/node_modules/babel-loader/lib/index.js","mtime":1669614084006},{"path":"/Users/lijiayu/Downloads/shangcheng-main/node_modules/cache-loader/dist/cjs.js","mtime":1669614083651},{"path":"/Users/lijiayu/Downloads/shangcheng-main/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":1669614084013}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9saWppYXl1L0Rvd25sb2Fkcy9zaGFuZ2NoZW5nLW1haW4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zcGxpdC5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0IHsgcG9zdFVzZXJGb3JtQ29uZmlndXJhdGlvbiwgcG9zdFVzZXJEaWN0aW9uYXJ5UGFnZSB9IGZyb20gJ0AvYXBpL3VzZXInOwpleHBvcnQgZGVmYXVsdCB7CiAgcHJvcHM6IFsiZm9ybVBhZ2UiLCAnZm9ybUluaXREYXRhcyddLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBydWxlRm9ybToge30sCiAgICAgIGZvcm1EYXRhOiBbXSwKICAgICAgcnVsZXM6IHt9LAogICAgICBzZWxlY3RPcHRpb246IHt9LAogICAgICBzZWxlY3RDdXN0b21MaXN0OiBbXQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICAvLyDojrflj5booajljZXmlbDmja4KICAgIGlmICghdGhpcy5mb3JtUGFnZS5mb3JtSWQpIHsKICAgICAgdGhpcy5mb3JtSW5pdCh0aGlzLmZvcm1Jbml0RGF0YXMpOwogICAgfSBlbHNlIHsKICAgICAgLy8g6L+Z6YeM5piv6KGo5Y2V5pWw5o2u5aSE55CG5pa55rOVCiAgICAgIHRoaXMucG9zdFVzZXJGb3JtQ29uZmlndXJhdGlvbnMoKTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIOiuoeeul+aYr+WQpuS4gOihjOaYvuekuuWHoOS4qgogICAgaXRlbUNsYXNzRnVuOiBmdW5jdGlvbiBpdGVtQ2xhc3NGdW4oZGF0YSkgewogICAgICAvLyBjb25zb2xlLmxvZyhkYXRhKTsKICAgICAgLy8g5Y2g5pyJ5YiX5pWwCiAgICAgIC8vIGxldCBsaXN0ID0gIHRoaXMuZm9ybURhdGEuZmlsdGVyKGl0ZW09Pml0ZW0ub2NjdXBpZWRDb2x1bW5zPjEpCiAgICAgIC8vIGNvbnNvbGUubG9nKGxpc3QpCiAgICAgIHZhciBmcm9tTGlzdCA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy5mb3JtRGF0YSkpOwogICAgICB2YXIgbGlzdCA9IGZyb21MaXN0LnNvcnQoZnVuY3Rpb24gKG9iajEsIG9iajIpIHsKICAgICAgICByZXR1cm4gb2JqMi5vY2N1cGllZENvbHVtbnMgLSBvYmoxLm9jY3VwaWVkQ29sdW1uczsKICAgICAgfSk7CiAgICAgIHZhciBmb2NjdXBpZWRDb2x1bW5zID0gbGlzdFswXS5vY2N1cGllZENvbHVtbnM7CiAgICAgIHZhciB3aWR0aCA9IDEwMDsKCiAgICAgIGlmIChmb2NjdXBpZWRDb2x1bW5zKSB7CiAgICAgICAgd2lkdGggPSAxMDAgLyBmb2NjdXBpZWRDb2x1bW5zOwogICAgICB9CgogICAgICBpZiAoZGF0YS5vY2N1cGllZENvbHVtbnMgPiAxKSB7CiAgICAgICAgd2lkdGggPSB3aWR0aCAqIGRhdGEub2NjdXBpZWRDb2x1bW5zOwogICAgICB9CgogICAgICByZXR1cm4gewogICAgICAgIHdpZHRoOiAiIi5jb25jYXQod2lkdGgsICIlIikKICAgICAgfTsKICAgIH0sCiAgICBwb3N0VXNlckZvcm1Db25maWd1cmF0aW9uczogZnVuY3Rpb24gcG9zdFVzZXJGb3JtQ29uZmlndXJhdGlvbnMoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBkYXRhOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIHBvc3RVc2VyRm9ybUNvbmZpZ3VyYXRpb24oewogICAgICAgICAgICAgICAgICBmb3JtSWQ6IF90aGlzLmZvcm1QYWdlLmZvcm1JZAogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIGRhdGEgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChkYXRhLmNvZGUgPT0gMjAwMCkgewogICAgICAgICAgICAgICAgICBpZiAoZGF0YS5kYXRhLmxlbmd0aCA9PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMuJG1lc3NhZ2UuZXJyb3IoZGF0YS5tZXNzYWdlKTsKICAgICAgICAgICAgICAgICAgfSAvLyDov5nph4zmmK/ooajljZXmlbDmja7lpITnkIbmlrnms5UKCgogICAgICAgICAgICAgICAgICBfdGhpcy5mb3JtSW5pdChkYXRhLmRhdGEpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgX3RoaXMuJG1lc3NhZ2UuZXJyb3IoZGF0YS5tZXNzYWdlKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGZvcm1Jbml0OiBmdW5jdGlvbiBmb3JtSW5pdChhcnIpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB2YXIgcnVsZUZvcm1PYmogPSB7fTsKICAgICAgdmFyIHJ1bGVzT2JqID0ge307CiAgICAgIGFyci5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICB2YXIgX3RoaXMyJGZvcm1QYWdlOwoKICAgICAgICAvLyDmmK/lkKbpnIDopoHlrZflhbgKICAgICAgICBpZiAoaXRlbS50eXBlID09ICJzZWxlY3QiIHx8IGl0ZW0udHlwZSA9PSAicmFkaW8iIHx8IGl0ZW0udHlwZSA9PSAiY2hlY2tib3giKSB7CiAgICAgICAgICBfdGhpczIuc2VsZWN0T3B0aW9uW2l0ZW0uZm9ybU1vZGVsXSA9IFtdOwoKICAgICAgICAgIGlmIChpdGVtLnNlbGVjdEN1c3RvbSA9PSAxKSB7CiAgICAgICAgICAgIF90aGlzMi5zZWxlY3RDdXN0b21MaXN0LnB1c2goewogICAgICAgICAgICAgIGtleTogaXRlbS5kaWN0aW9uYXJ5S2V5LAogICAgICAgICAgICAgIGZvcm1Nb2RlbDogaXRlbS5mb3JtTW9kZWwKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfSAvLyDmmK/lkKbmnInoh6rlrprkuYnlsZ7mgKcKCgogICAgICAgIGl0ZW1bJ2F0dHJpYnV0ZXMnXSA9IHt9OwoKICAgICAgICBpZiAoKF90aGlzMiRmb3JtUGFnZSA9IF90aGlzMi5mb3JtUGFnZSkgIT09IG51bGwgJiYgX3RoaXMyJGZvcm1QYWdlICE9PSB2b2lkIDAgJiYgX3RoaXMyJGZvcm1QYWdlLmF0dHJpYnV0ZXMpIHsKICAgICAgICAgIGl0ZW0uYXR0cmlidXRlcyA9IF90aGlzMi5mb3JtUGFnZS5hdHRyaWJ1dGVzW2l0ZW0uZm9ybU1vZGVsXSA/IF90aGlzMi5mb3JtUGFnZS5hdHRyaWJ1dGVzW2l0ZW0uZm9ybU1vZGVsXSA6IHt9OwogICAgICAgIH0gLy8g5piv5ZCm5piv5oyJ6ZKu5Yqf6IO9CgoKICAgICAgICBpZiAoaXRlbS5lZGl0bGlzdCAhPSAwICYmIGl0ZW0udHlwZSAhPSAiYnV0dG9uIikgewogICAgICAgICAgaWYgKGl0ZW0udHlwZSA9PSAnY2hlY2tib3gnKSB7CiAgICAgICAgICAgIHJ1bGVGb3JtT2JqW2l0ZW0uZm9ybU1vZGVsXSA9IGl0ZW0uZGljRGVmYXVsdCA/IGl0ZW0uZGljRGVmYXVsdC5zcGxpdCgnLCcpIDogW107CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBydWxlRm9ybU9ialtpdGVtLmZvcm1Nb2RlbF0gPSBpdGVtLmRpY0RlZmF1bHQgPyBpdGVtLmRpY0RlZmF1bHQgOiAiIjsKICAgICAgICAgIH0KICAgICAgICB9IC8vIOaYr+WQpui/m+ihjOagoemqjAoKCiAgICAgICAgaWYgKGl0ZW0uaXNDaGVjayA9PSAxKSB7CiAgICAgICAgICAvLyDns7vnu5/phY3nva7kuqTmmJMg5bm25LiUIOmakOiXj+S4jei/m+ihjOagoemqjAogICAgICAgICAgaWYgKGl0ZW0uZWRpdGxpc3QgIT0gMCAmJiBpdGVtLnR5cGUgIT0gImJ1dHRvbiIpIHsKICAgICAgICAgICAgdmFyIHJ1bGVzSXRlbUFyciA9IFtdOwogICAgICAgICAgICB2YXIgcHJvcFZhbGlkYXRvciA9IF90aGlzMi5mb3JtUGFnZS52YWxpZGF0b3I7CiAgICAgICAgICAgIGl0ZW0ucnVsZXMubWFwKGZ1bmN0aW9uIChydWxlc0l0ZW0pIHsKICAgICAgICAgICAgICB2YXIgb2JqID0ge307IC8vIOiHquWumuS5ieagoemqjAoKICAgICAgICAgICAgICBpZiAocnVsZXNJdGVtLmlzVmFsaWRhdG9yID09IDEpIHsKICAgICAgICAgICAgICAgIG9iaiA9IHsKICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHJ1bGVzSXRlbS5yZXF1aXJlZCA9PSAxID8gdHJ1ZSA6IGZhbHNlLAogICAgICAgICAgICAgICAgICB2YWxpZGF0b3I6IHByb3BWYWxpZGF0b3JbcnVsZXNJdGVtLnZhbGlkYXRvcl0sCiAgICAgICAgICAgICAgICAgIHRyaWdnZXI6IHJ1bGVzSXRlbS50cmlnZ2VyCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBvYmogPSB7CiAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiBydWxlc0l0ZW0ucmVxdWlyZWQgPT0gMSA/IHRydWUgOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgbWVzc2FnZTogcnVsZXNJdGVtLm1lc3NhZ2UsCiAgICAgICAgICAgICAgICAgIHRyaWdnZXI6IHJ1bGVzSXRlbS50cmlnZ2VyCiAgICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAgIGlmIChydWxlc0l0ZW1BcnIubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICAgIGRlbGV0ZSBvYmoucmVxdWlyZWQ7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKHJ1bGVzSXRlbS50eXBlKSB7CiAgICAgICAgICAgICAgICAgIG9iai50eXBlID0gcnVsZXNJdGVtLnR5cGU7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKHJ1bGVzSXRlbS5taW4pIHsKICAgICAgICAgICAgICAgICAgb2JqLm1pbiA9IHJ1bGVzSXRlbS5taW47CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKHJ1bGVzSXRlbS5tYXgpIHsKICAgICAgICAgICAgICAgICAgb2JqLm1heCA9IHJ1bGVzSXRlbS5tYXg7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBydWxlc0l0ZW1BcnIucHVzaChvYmopOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgcnVsZXNPYmpbaXRlbS5mb3JtTW9kZWxdID0gcnVsZXNJdGVtQXJyOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHRoaXMucnVsZUZvcm0gPSBydWxlRm9ybU9iajsKICAgICAgdGhpcy5ydWxlcyA9IHJ1bGVzT2JqOwogICAgICB0aGlzLmZvcm1EYXRhID0gYXJyOyAvLyDojrflj5blrZflhbgKCiAgICAgIHRoaXMuZGljdGlvbmFyeSgpOwogICAgfSwKICAgIC8vIOiOt+WPluWtl+WFuOihqOWNleiOt+WPluWtl+WFuOWAvAogICAgZGljdGlvbmFyeTogZnVuY3Rpb24gZGljdGlvbmFyeSgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgbGlzdCwgZGF0YTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgbGlzdCA9IFtdOwoKICAgICAgICAgICAgICAgIF90aGlzMy5zZWxlY3RDdXN0b21MaXN0Lm1hcChmdW5jdGlvbiAoaXRlbXMpIHsKICAgICAgICAgICAgICAgICAgdmFyIGlzSXRlbXMgPSBsaXN0LnNvbWUoZnVuY3Rpb24gKGtleXMpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4ga2V5cyA9PSBpdGVtcy5rZXk7CiAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgaWYgKCFpc0l0ZW1zKSB7CiAgICAgICAgICAgICAgICAgICAgbGlzdC5wdXNoKGl0ZW1zLmtleSk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiBwb3N0VXNlckRpY3Rpb25hcnlQYWdlKHsKICAgICAgICAgICAgICAgICAgbGlzdDogbGlzdAogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIGRhdGEgPSBfY29udGV4dDIuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAoZGF0YS5jb2RlID09IDIwMDApIHsKICAgICAgICAgICAgICAgICAgX3RoaXMzLnNlbGVjdEN1c3RvbUxpc3QubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMzLnNlbGVjdE9wdGlvbltpdGVtLmZvcm1Nb2RlbF0gPSBkYXRhLmRhdGFbaXRlbS5rZXldOwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMy4kbWVzc2FnZS5lcnJvcihkYXRhLm1lc3NhZ2UpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyDorr7nva7oh6rlrprkuYnkuIvmi4nmoYblgLwKICAgIHNldE9wdGlvbjogZnVuY3Rpb24gc2V0T3B0aW9uKGtleSwgb3B0aW9uKSB7CiAgICAgIHRoaXMuc2VsZWN0T3B0aW9uW2tleV0gPSBvcHRpb247CiAgICB9LAogICAgLy8g6K6+572u5YC8CiAgICBzZXRWYXVsZTogZnVuY3Rpb24gc2V0VmF1bGUoa2V5LCB2YXVsZSkgewogICAgICB0aGlzLnJ1bGVGb3JtW2tleV0gPSB2YXVsZTsKICAgIH0sCiAgICAvLyDojrflj5blgLwKICAgIGdldFZhdWxlOiBmdW5jdGlvbiBnZXRWYXVsZShrZXkpIHsKICAgICAgcmV0dXJuIHRoaXMucnVsZUZvcm1ba2V5XTsKICAgIH0sCiAgICB0eXBlQ2hhbmdlOiBmdW5jdGlvbiB0eXBlQ2hhbmdlKGV2ZW50KSB7CiAgICAgIHRoaXMuJGVtaXQoJ3R5cGVDaGFuZ2UnLCBldmVudCk7CiAgICB9LAogICAgZm9ybVZhbGlkYXRlOiBmdW5jdGlvbiBmb3JtVmFsaWRhdGUoKSB7CiAgICAgIHZhciBpc1ZhbGlkID0gZmFsc2U7CiAgICAgIHRoaXMuJHJlZnMucmVmRm9ybUluaXQudmFsaWRhdGUoZnVuY3Rpb24gKHZhbGlkKSB7CiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICBpc1ZhbGlkID0gdmFsaWQ7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGlzVmFsaWQgPSBmYWxzZTsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICByZXR1cm4gaXNWYWxpZDsKICAgIH0sCiAgICAvLyDojrflj5blgLwKICAgIGdldERhdGE6IGZ1bmN0aW9uIGdldERhdGEoKSB7CiAgICAgIHJldHVybiB0aGlzLnJ1bGVGb3JtOwogICAgfSwKICAgIC8vIAogICAgdmFsaWRhdGVGaWVsZDogZnVuY3Rpb24gdmFsaWRhdGVGaWVsZChpdGVtKSB7CiAgICAgIHRoaXMuJHJlZnMucmVmRm9ybUluaXQudmFsaWRhdGVGaWVsZChpdGVtKTsKICAgIH0sCiAgICAvLyDmjInpkq7ml7bpl7QKICAgIGJ0bnM6IGZ1bmN0aW9uIGJ0bnMoZGF0YSkgewogICAgICB0aGlzLiRlbWl0KCJmb3JtQnRuIiwgZGF0YSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["/Users/lijiayu/Downloads/shangcheng-main/src/components/form-init/index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <template v-if=\"formData.length\">\n    <el-form\n      :model=\"ruleForm\"\n      status-icon\n      :rules=\"rules\"\n      ref=\"refFormInit\"\n      label-width=\"120px\"\n      class=\"form-box\"\n    >\n      <template v-for=\"(item, index) in formData\" :key=\"index\"  class=\"el-form-item-boxs\">\n        <el-form-item\n          :label=\"item.label\"\n          :prop=\"item.formModel\"\n          v-if=\"item.editlist == 1\"\n          :style=\"itemClassFun(item)\"\n        >\n          <!-- 自定义插槽 -->\n          <template v-if=\"item.type == 'custom'\">\n            <slot :name=\"item.customName\" :item=\"item\" :ruleForm=\"ruleForm\"  ></slot>\n          </template>\n          <!-- input输入框 -->\n          <template v-if=\"item.type == 'text' || item.type == 'password'||item.type == 'textarea'\">\n            <el-input\n              :type=\"item.type\"\n              v-model=\"ruleForm[item.formModel]\"\n              :placeholder=\"item.placeholder\"\n              :disabled=\"item.disabled == 1\"\n              @input=\"typeChange({\n                type:item.type,\n                key: item.formModel,\n                label: item.label,\n                value: ruleForm[item.formModel],\n                items: item,\n              })\" \n            ></el-input>\n          </template>\n          <!-- 下拉框 -->\n          <template v-if=\"item.type == 'select'\">\n            <el-select\n              v-model=\"ruleForm[item.formModel]\"\n              :placeholder=\"item.placeholder\"\n              :multiple='item.multiple'\n              filterable\n              class=\"form-widths\"\n              @change=\"typeChange({\n                type:item.type,\n                key: item.formModel,\n                label: item.label,\n                value: ruleForm[item.formModel],\n                items: item,\n                option: selectOption[item.formModel]\n              })\" \n            >\n              <template v-for=\"(items,indexs) in selectOption[item.formModel]\" :key=\"indexs\">\n                  <el-option :label=\"items.dicValue\" :value=\"items.dicKey\"></el-option>\n              </template>\n            </el-select>\n          </template>\n          <!-- 开关 -->\n          <template v-if=\"item.type == 'switch'\">\n             <el-switch \n              v-model=\"ruleForm[item.formModel]\" \n              active-color=\"#13ce66\" \n              inactive-color=\"#ff4949\"\n               class=\"form-widths\"\n              @change=\"typeChange({\n                type:item.type,\n                key: item.formModel,\n                label: item.label,\n                value: ruleForm[item.formModel],\n                items: item,\n              })\" \n              ></el-switch>\n          </template>\n          <!-- 日期格式 -->\n          <template v-if=\"item.type == 'date'\">\n            <el-date-picker\n              class=\"form-widths\"\n              v-model=\"ruleForm[item.formModel]\" \n              :type=\"item.attributes['type']?item.attributes['type']:item.type\"\n              :placeholder=\"item.placeholder\"\n              :shortcuts=\"item.attributes['shortcuts']\"\n              :format=\"item.attributes['format']\"\n              :value-format=\"item.attributes['valueFormat']\"\n              :disabled-date=\"item.attributes['disabledDate']\"\n              :readonly=\"item.attributes['readonly']\"\n              :range-separator=\"item.attributes['rangeSeparator']\"\n              :default-time=\"item.attributes['defaultTime']\"\n              :start-placeholder=\"item.attributes['startPlaceholder']\"\n              :end-placeholder=\"item.attributes['endPlaceholder']\"\n              :default-value=\"item.attributes['defaultValue']\"\n              :unlink-panels=\"item.attributes['unlinkPanels']\"\n              :prefix-icon=\"item.attributes['prefixIcon']\"\n              :clear-icon=\"item.attributes['clearIcon']\"\n              @change=\"typeChange({\n                type:item.type,\n                key: item.formModel,\n                label: item.label,\n                value: ruleForm[item.formModel],\n                items: item,\n              })\" \n            >\n            </el-date-picker>\n          </template>\n          <!-- 多选框 -->\n          <template v-if=\"item.type == 'checkbox'\">\n              <el-checkbox-group v-model=\"ruleForm[item.formModel]\"  class=\"form-widths\">\n                <template v-for=\"(itemRadio,indexss) in selectOption[item.formModel]\" :key='indexss'>\n                  <el-checkbox :label=\"itemRadio.dicKey\" name=\"type\">{{itemRadio.dicValue}}</el-checkbox>\n                </template>\n              </el-checkbox-group>\n          </template>\n          <!-- 单选框 -->\n          <template v-if=\"item.type=='radio'\"  class=\"form-widths\">\n            <el-radio-group v-model=\"ruleForm[item.formModel]\">\n              <template v-for=\"(itemRadio,indexss) in selectOption[item.formModel]\" :key='indexss'>\n                  <el-radio :label=\"itemRadio.dicKey\" >{{itemRadio.dicValue}}</el-radio>\n              </template>\n            </el-radio-group>\n          </template>\n          <!-- 按钮 -->\n          <template v-if=\"item.type == 'button'\"  class=\"form-widths\">\n            <el-button\n              :type=\"item.btnType\"\n              @click=\"btns(item.btnFun)\"\n              :disabled=\"item.disabled == 1\"\n            >\n              {{ item.text }}\n            </el-button>\n          </template>\n        </el-form-item>\n      </template>\n    </el-form>\n  </template>\n</template>\n\n<script>\nimport {postUserFormConfiguration,postUserDictionaryPage} from '@/api/user'\nexport default {\n  props: [\"formPage\",'formInitDatas'],\n  data() {\n    return {\n      ruleForm: {},\n      formData: [],\n      rules: {},\n      selectOption:{},\n      selectCustomList:[],\n    };\n  },\n  created() {\n    // 获取表单数据\n    if(!this.formPage.formId){\n       this.formInit(this.formInitDatas);\n    }else{\n        // 这里是表单数据处理方法\n        this.postUserFormConfigurations()\n    }\n   \n  },\n\n  methods: {\n    // 计算是否一行显示几个\n    itemClassFun(data){\n      // console.log(data);\n      // 占有列数\n      // let list =  this.formData.filter(item=>item.occupiedColumns>1)\n      // console.log(list)\n     let  fromList = JSON.parse(JSON.stringify(this.formData))\n     let list =fromList.sort((obj1,obj2)=>{\n        return obj2.occupiedColumns - obj1.occupiedColumns\n      })\n     let foccupiedColumns =  list[0].occupiedColumns\n      let  width= 100;\n      if(foccupiedColumns){\n         width = 100/foccupiedColumns;\n      }\n\n      if(data.occupiedColumns>1){\n        width = width*data.occupiedColumns\n      }\n      return  {\n         width:`${width}%`,\n      };\n    },\n    async postUserFormConfigurations (){\n      let data = await postUserFormConfiguration({formId:this.formPage.formId})\n      if (data.code == 2000) {\n        if(data.data.length==0){\n           this.$message.error(data.message);\n        }\n        // 这里是表单数据处理方法\n        this.formInit(data.data);\n      \n      } else {\n        this.$message.error(data.message);\n      }\n    },\n    formInit(arr) {\n      let ruleFormObj = {};\n      let rulesObj = {};\n      arr.map((item) => {\n        // 是否需要字典\n        if(item.type == \"select\"||item.type == \"radio\"||item.type == \"checkbox\"){\n          this.selectOption[item.formModel]=[]\n          if(item.selectCustom==1){\n            this.selectCustomList.push({key:item.dictionaryKey,formModel:item.formModel})\n          }\n        }\n        // 是否有自定义属性\n        item['attributes'] = {};\n        if(this.formPage?.attributes){\n          item.attributes = this.formPage.attributes[item.formModel]?this.formPage.attributes[item.formModel]:{}\n        }\n        // 是否是按钮功能\n        if (item.editlist != 0 && item.type != \"button\") {\n          if(item.type == 'checkbox'){\n            ruleFormObj[item.formModel] = item.dicDefault?item.dicDefault.split(','):[];\n          }else{\n            ruleFormObj[item.formModel] = item.dicDefault?item.dicDefault:\"\";\n          }\n        }\n\n        // 是否进行校验\n        if (item.isCheck == 1) {\n          // 系统配置交易 并且 隐藏不进行校验\n          if (item.editlist != 0 && item.type != \"button\") {\n            let rulesItemArr = [];\n            let propValidator = this.formPage.validator;\n            item.rules.map((rulesItem) => {\n              let obj = {};\n              // 自定义校验\n              if (rulesItem.isValidator == 1) {\n                obj = {\n                  required: rulesItem.required == 1 ? true : false,\n                  validator: propValidator[rulesItem.validator],\n                  trigger: rulesItem.trigger,\n                };\n              } else {\n                obj = {\n                  required: rulesItem.required == 1 ? true : false,\n                  message: rulesItem.message,\n                  trigger: rulesItem.trigger,\n                };\n                if (rulesItemArr.length) {\n                  delete obj.required;\n                }\n                if (rulesItem.type) {\n                  obj.type = rulesItem.type;\n                }\n                if (rulesItem.min) {\n                  obj.min = rulesItem.min;\n                }\n                if (rulesItem.max) {\n                  obj.max = rulesItem.max;\n                }\n              }\n              rulesItemArr.push(obj);\n            });\n            rulesObj[item.formModel] = rulesItemArr;\n          }\n        }\n      });\n      this.ruleForm = ruleFormObj;\n      this.rules = rulesObj;\n      this.formData = arr;\n      // 获取字典\n      this.dictionary();\n    \n    },\n    // 获取字典表单获取字典值\n    async dictionary(){\n      let list =[]\n       this.selectCustomList.map(items=>{\n         let isItems = list.some(keys=>keys==items.key)\n         if(!isItems){\n           list.push(items.key)\n         }\n       })\n        let data = await postUserDictionaryPage({list:list})\n        if(data.code==2000){\n           this.selectCustomList.map(item=>{\n              this.selectOption[item.formModel] =data.data[item.key];\n            })\n        }else{\n           this.$message.error(data.message);\n        }\n    },\n    // 设置自定义下拉框值\n    setOption(key,option){\n       this.selectOption[key] = option;\n    },\n    // 设置值\n    setVaule(key,vaule){\n      this.ruleForm[key] = vaule\n    },\n    // 获取值\n    getVaule(key){\n       return this.ruleForm[key]\n    },\n    typeChange(event){\n      this.$emit('typeChange',event)\n    },\n    formValidate() {\n      let isValid = false;\n      this.$refs.refFormInit.validate((valid) => {\n        if (valid) {\n          isValid = valid;\n        } else {\n          isValid = false;\n          return false;\n        }\n      });\n      return isValid;\n    },\n    // 获取值\n    getData() {\n      return this.ruleForm;\n    },\n    // \n    validateField(item) {\n      this.$refs.refFormInit.validateField(item);\n    },\n    // 按钮时间\n    btns(data) {\n      this.$emit(\"formBtn\", data);\n    },\n  },\n};\n</script>\n<style lang=\"less\">\n  .form-box {\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: space-between;\n    width: 100%;\n    .form-widths{\n      width: 100%;\n    }\n  }\n  \n</style>\n"],"sourceRoot":""}]}