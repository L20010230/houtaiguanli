{"remainingRequest":"/Users/lijiayu/alijiayu/jiayuan/shangcheng-main/node_modules/babel-loader/lib/index.js!/Users/lijiayu/alijiayu/jiayuan/shangcheng-main/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/Users/lijiayu/alijiayu/jiayuan/shangcheng-main/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/lijiayu/alijiayu/jiayuan/shangcheng-main/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/lijiayu/alijiayu/jiayuan/shangcheng-main/src/components/Basic-information/user-management/User-first.vue?vue&type=template&id=2369af8a&scoped=true","dependencies":[{"path":"/Users/lijiayu/alijiayu/jiayuan/shangcheng-main/src/components/Basic-information/user-management/User-first.vue","mtime":1669690674398},{"path":"/Users/lijiayu/alijiayu/jiayuan/shangcheng-main/node_modules/cache-loader/dist/cjs.js","mtime":1669614083651},{"path":"/Users/lijiayu/alijiayu/jiayuan/shangcheng-main/node_modules/babel-loader/lib/index.js","mtime":1669614084006},{"path":"/Users/lijiayu/alijiayu/jiayuan/shangcheng-main/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1669614084213},{"path":"/Users/lijiayu/alijiayu/jiayuan/shangcheng-main/node_modules/cache-loader/dist/cjs.js","mtime":1669614083651},{"path":"/Users/lijiayu/alijiayu/jiayuan/shangcheng-main/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":1669614084013},{"path":"/Users/lijiayu/alijiayu/jiayuan/shangcheng-main/node_modules/cache-loader/dist/cjs.js","mtime":1669614083651},{"path":"/Users/lijiayu/alijiayu/jiayuan/shangcheng-main/node_modules/babel-loader/lib/index.js","mtime":1669614084006},{"path":"/Users/lijiayu/alijiayu/jiayuan/shangcheng-main/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1669614084213},{"path":"/Users/lijiayu/alijiayu/jiayuan/shangcheng-main/node_modules/cache-loader/dist/cjs.js","mtime":1669614083651},{"path":"/Users/lijiayu/alijiayu/jiayuan/shangcheng-main/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":1669614084013}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVzb2x2ZUNvbXBvbmVudCBhcyBfcmVzb2x2ZUNvbXBvbmVudCwgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCBjcmVhdGVUZXh0Vk5vZGUgYXMgX2NyZWF0ZVRleHRWTm9kZSwgd2l0aEN0eCBhcyBfd2l0aEN0eCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2ssIGNyZWF0ZUJsb2NrIGFzIF9jcmVhdGVCbG9jaywgd2l0aFNjb3BlSWQgYXMgX3dpdGhTY29wZUlkLCBwdXNoU2NvcGVJZCBhcyBfcHVzaFNjb3BlSWQsIHBvcFNjb3BlSWQgYXMgX3BvcFNjb3BlSWQgfSBmcm9tICJ2dWUiOwoKdmFyIF93aXRoSWQgPSAvKiNfX1BVUkVfXyovX3dpdGhTY29wZUlkKCJkYXRhLXYtMjM2OWFmOGEiKTsKCl9wdXNoU2NvcGVJZCgiZGF0YS12LTIzNjlhZjhhIik7Cgp2YXIgX2hvaXN0ZWRfMSA9IHsKICBjbGFzczogIm1lbnUtb3BlcmF0aW9uIG1lbnUtb3BlcmF0aW9uLWJ0biIKfTsKCnZhciBfaG9pc3RlZF8yID0gLyojX19QVVJFX18qL19jcmVhdGVUZXh0Vk5vZGUoIuS/neWtmCIpOwoKdmFyIF9ob2lzdGVkXzMgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZVRleHRWTm9kZSgi6L+U5ZueIik7CgpfcG9wU2NvcGVJZCgpOwoKZXhwb3J0IHZhciByZW5kZXIgPSAvKiNfX1BVUkVfXyovX3dpdGhJZChmdW5jdGlvbiAoX2N0eCwgX2NhY2hlLCAkcHJvcHMsICRzZXR1cCwgJGRhdGEsICRvcHRpb25zKSB7CiAgdmFyIF9jb21wb25lbnRfZWxfdHJlZSA9IF9yZXNvbHZlQ29tcG9uZW50KCJlbC10cmVlIik7CgogIHZhciBfY29tcG9uZW50X2VsX2J1dHRvbiA9IF9yZXNvbHZlQ29tcG9uZW50KCJlbC1idXR0b24iKTsKCiAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKCJkaXYiLCBudWxsLCBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfdHJlZSwgewogICAgZGF0YTogJGRhdGEudGFibGVEYXRhLAogICAgInNob3ctY2hlY2tib3giOiAiIiwKICAgICJkZWZhdWx0LWV4cGFuZC1hbGwiOiAiIiwKICAgICJub2RlLWtleSI6ICJpZCIsCiAgICByZWY6ICJ0cmVlIiwKICAgICJoaWdobGlnaHQtY3VycmVudCI6ICIiLAogICAgY2xhc3M6ICJ0YWJsZS1ib3gtYWRhcHQgdGFibGUtYm94LXNjcm9sbCIsCiAgICBwcm9wczogJGRhdGEuZGVmYXVsdFByb3BzCiAgfSwgbnVsbCwgOAogIC8qIFBST1BTICovCiAgLCBbImRhdGEiLCAicHJvcHMiXSksIF9jcmVhdGVWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMSwgW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2J1dHRvbiwgewogICAgdHlwZTogInByaW1hcnkiLAogICAgb25DbGljazogJG9wdGlvbnMuZ2V0Q2hlY2tlZEtleXMKICB9LCB7CiAgICBkZWZhdWx0OiBfd2l0aElkKGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIFtfaG9pc3RlZF8yXTsKICAgIH0pLAogICAgXzogMQogICAgLyogU1RBQkxFICovCgogIH0sIDgKICAvKiBQUk9QUyAqLwogICwgWyJvbkNsaWNrIl0pLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9idXR0b24sIHsKICAgIG9uQ2xpY2s6ICRvcHRpb25zLmNhbmNlbAogIH0sIHsKICAgIGRlZmF1bHQ6IF93aXRoSWQoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gW19ob2lzdGVkXzNdOwogICAgfSksCiAgICBfOiAxCiAgICAvKiBTVEFCTEUgKi8KCiAgfSwgOAogIC8qIFBST1BTICovCiAgLCBbIm9uQ2xpY2siXSldKV0pOwp9KTs="},{"version":3,"sources":["/Users/lijiayu/alijiayu/jiayuan/shangcheng-main/src/components/Basic-information/user-management/User-first.vue"],"names":[],"mappings":";;;;;;;AAac,EAAA,KAAK,EAAC;;;+CAC2C,I;;+CACvB,I;;;;;;;;;uBAbpC,YAAA,CAeM,KAfN,EAeM,IAfN,EAeM,CAdF,YAAA,CASU,kBATV,EASU;AART,IAAA,IAAI,EAAE,KAAA,CAAA,SAQG;AAPV,qBAAA,EAOU;AANV,0BAAA,EAMU;AALV,gBAAS,IAKC;AAJV,IAAA,GAAG,EAAC,MAIM;AAHV,yBAAA,EAGU;AAFV,IAAA,KAAK,EAAC,kCAEI;AADT,IAAA,KAAK,EAAE,KAAA,CAAA;AACE,GATV,E,IAAA,E;;AAAA,I,iBAAA,CAcE,EAJD,YAAA,CAGK,KAHL,EAAA,UAAA,EAGK,CAFF,YAAA,CAAiE,oBAAjE,EAAiE;AAArD,IAAA,IAAI,EAAC,SAAgD;AAArC,IAAA,OAAK,EAAE,QAAA,CAAA;AAA8B,GAAjE,E;qBAAmD;AAAA,aAAE,C,UAAA,CAAF;AAAA,K;;;;GAAnD,E;;AAAA,I,WAAA,CAEE,EADF,YAAA,CAA0C,oBAA1C,EAA0C;AAA7B,IAAA,OAAK,EAAE,QAAA,CAAA;AAAsB,GAA1C,EAA0B;qBAAE;AAAA,aAAE,C,UAAA,CAAF;AAAA,K,CAAF;;;;AAAA,GAA1B,E;;AAAA,I,WAAA,CACE,CAHL,CAIC,CAfN,C","sourcesContent":["\n<template>\n    <div>\n        <el-tree\n        :data=\"tableData\"\n        show-checkbox\n        default-expand-all\n        node-key=\"id\"\n        ref=\"tree\"\n        highlight-current\n        class=\"table-box-adapt table-box-scroll\"\n        :props=\"defaultProps\">\n        </el-tree>\n         <div class=\"menu-operation menu-operation-btn\">\n            <el-button  type=\"primary\" @click=\"getCheckedKeys\">保存</el-button>\n            <el-button  @click=\"cancel\">返回</el-button>\n        </div>\n    </div>\n</template>\n\n<script>\nimport {mapState} from 'vuex'\nimport { postUpUserRouter,postRouterpage } from \"../../../api/user\";\nimport {Router_tree} from '../../../util/router_tree'\nexport default {\n \n    data() {\n      return {\n        defaultProps: {\n          children: 'children',\n          label: 'title'\n        },\n        loading:{},\n        tableData:[],\n      };\n    },\n    computed: {\n         ...mapState({\n            handleMenu:state=>state.user.handleMenu,\n        }),\n    },\n    mounted(){\n    if(!this.handleMenu['user_name']){\n        let handleMenu =  JSON.parse(sessionStorage.getItem('HandleMenu'))\n        this.$store.dispatch('HandleMenu', handleMenu)\n    }\n    this.postRouterpagesa()\n    this.postRouterpagesa({userId:this.handleMenu.user_name})\n    },\n    methods: {\n         // 获取\n        async postRouterpagesa(data) {\n            this.loading = this.$loading({\n                lock: true,\n                text: '正在加载中',\n                spinner: 'el-icon-loading',\n                background: 'rgba(0, 0, 0, 0.7)'\n                });\n            let router = await postRouterpage(data);\n            if (router.code == 2000) {\n                this.loading.close();\n                if(data){\n                    this.setCheckedKeysd(router.data)\n                }else{\n                    this.tableData =Router_tree(router.data);\n                }\n            } else {\n                this.loading.close();\n                this.$message.error(data.message);\n            }\n        },\n         // \n        async postUpUserRouters(data) {\n            this.loading = this.$loading({\n                lock: true,\n                text: '正在加载中',\n                spinner: 'el-icon-loading',\n                background: 'rgba(0, 0, 0, 0.7)'\n            });\n            let router = await postUpUserRouter(data);\n            if (router.code == 2000) {\n                this.loading.close();\n                this.$message.success({\n                    message: router.message,\n                    type: \"success\",\n                });\n            } else {\n                this.loading.close();\n                this.$message.error(router.message);\n            }\n        },\n        getCheckedKeys() {\n            console.log(this.handleMenu)\n            // let datas = {...this.handleMenu,roles:this.$refs.tree.getCheckedKeys()}\n            // this.postUpUserRouters(datas)\n            \n        },\n        cancel(){\n            this.$router.push('/main/user-management')\n        },\n        setCheckedKeysd(data) {\n            let roles = data.length&&data.map(item=>item.id)\n            this.$refs.tree.setCheckedKeys(roles);\n        },\n    },\n    \n}\n</script>\n\n<style lang=\"less\" scoped>\n\n.menu-operation {\n  display: flex;\n  justify-content: flex-end;\n}\n.menu-operation-btn{\n    margin-top: 10px;\n}\n.table-box-scroll{\n    overflow: hidden;\n    overflow-y: scroll;\n}\n</style>"],"sourceRoot":""}]}