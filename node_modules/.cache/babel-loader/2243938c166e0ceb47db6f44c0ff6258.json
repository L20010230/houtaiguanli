{"remainingRequest":"/Users/lijiayu/Downloads/shangcheng-main/node_modules/babel-loader/lib/index.js!/Users/lijiayu/Downloads/shangcheng-main/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/lijiayu/Downloads/shangcheng-main/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/lijiayu/Downloads/shangcheng-main/src/components/Basic-information/user-management/User-first.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/lijiayu/Downloads/shangcheng-main/src/components/Basic-information/user-management/User-first.vue","mtime":1669541729000},{"path":"/Users/lijiayu/Downloads/shangcheng-main/node_modules/cache-loader/dist/cjs.js","mtime":1669614083651},{"path":"/Users/lijiayu/Downloads/shangcheng-main/node_modules/babel-loader/lib/index.js","mtime":1669614084006},{"path":"/Users/lijiayu/Downloads/shangcheng-main/node_modules/cache-loader/dist/cjs.js","mtime":1669614083651},{"path":"/Users/lijiayu/Downloads/shangcheng-main/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":1669614084013}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9saWppYXl1L0Rvd25sb2Fkcy9zaGFuZ2NoZW5nLW1haW4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICIvVXNlcnMvbGlqaWF5dS9Eb3dubG9hZHMvc2hhbmdjaGVuZy1tYWluL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgeyBtYXBTdGF0ZSB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgeyBwb3N0VXBVc2VyUm91dGVyLCBwb3N0Um91dGVycGFnZSB9IGZyb20gIi4uLy4uLy4uL2FwaS91c2VyIjsKaW1wb3J0IHsgUm91dGVyX3RyZWUgfSBmcm9tICcuLi8uLi8uLi91dGlsL3JvdXRlcl90cmVlJzsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBkZWZhdWx0UHJvcHM6IHsKICAgICAgICBjaGlsZHJlbjogJ2NoaWxkcmVuJywKICAgICAgICBsYWJlbDogJ3RpdGxlJwogICAgICB9LAogICAgICBsb2FkaW5nOiB7fSwKICAgICAgdGFibGVEYXRhOiBbXQogICAgfTsKICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKHt9LCBtYXBTdGF0ZSh7CiAgICBoYW5kbGVNZW51OiBmdW5jdGlvbiBoYW5kbGVNZW51KHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS51c2VyLmhhbmRsZU1lbnU7CiAgICB9CiAgfSkpLAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICBpZiAoIXRoaXMuaGFuZGxlTWVudVsndXNlcm5hbWUnXSkgewogICAgICB2YXIgaGFuZGxlTWVudSA9IEpTT04ucGFyc2Uoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnSGFuZGxlTWVudScpKTsKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ0hhbmRsZU1lbnUnLCBoYW5kbGVNZW51KTsKICAgIH0KCiAgICB0aGlzLnBvc3RSb3V0ZXJwYWdlc2EoKTsKICAgIHRoaXMucG9zdFJvdXRlcnBhZ2VzYSh7CiAgICAgIHVzZXJJZDogdGhpcy5oYW5kbGVNZW51LnVzZXJuYW1lCiAgICB9KTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIOiOt+WPlgogICAgcG9zdFJvdXRlcnBhZ2VzYTogZnVuY3Rpb24gcG9zdFJvdXRlcnBhZ2VzYShkYXRhKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciByb3V0ZXI7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXMubG9hZGluZyA9IF90aGlzLiRsb2FkaW5nKHsKICAgICAgICAgICAgICAgICAgbG9jazogdHJ1ZSwKICAgICAgICAgICAgICAgICAgdGV4dDogJ+ato+WcqOWKoOi9veS4rScsCiAgICAgICAgICAgICAgICAgIHNwaW5uZXI6ICdlbC1pY29uLWxvYWRpbmcnLAogICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAncmdiYSgwLCAwLCAwLCAwLjcpJwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBwb3N0Um91dGVycGFnZShkYXRhKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgcm91dGVyID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAocm91dGVyLmNvZGUgPT0gMjAwMCkgewogICAgICAgICAgICAgICAgICBfdGhpcy5sb2FkaW5nLmNsb3NlKCk7CgogICAgICAgICAgICAgICAgICBpZiAoZGF0YSkgewogICAgICAgICAgICAgICAgICAgIF90aGlzLnNldENoZWNrZWRLZXlzZChyb3V0ZXIuZGF0YSk7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMudGFibGVEYXRhID0gUm91dGVyX3RyZWUocm91dGVyLmRhdGEpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBfdGhpcy5sb2FkaW5nLmNsb3NlKCk7CgogICAgICAgICAgICAgICAgICBfdGhpcy4kbWVzc2FnZS5lcnJvcihkYXRhLm1lc3NhZ2UpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8gCiAgICBwb3N0VXBVc2VyUm91dGVyczogZnVuY3Rpb24gcG9zdFVwVXNlclJvdXRlcnMoZGF0YSkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciByb3V0ZXI7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzMi5sb2FkaW5nID0gX3RoaXMyLiRsb2FkaW5nKHsKICAgICAgICAgICAgICAgICAgbG9jazogdHJ1ZSwKICAgICAgICAgICAgICAgICAgdGV4dDogJ+ato+WcqOWKoOi9veS4rScsCiAgICAgICAgICAgICAgICAgIHNwaW5uZXI6ICdlbC1pY29uLWxvYWRpbmcnLAogICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAncmdiYSgwLCAwLCAwLCAwLjcpJwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gcG9zdFVwVXNlclJvdXRlcihkYXRhKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgcm91dGVyID0gX2NvbnRleHQyLnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKHJvdXRlci5jb2RlID09IDIwMDApIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyLmxvYWRpbmcuY2xvc2UoKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMi4kbWVzc2FnZS5zdWNjZXNzKHsKICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiByb3V0ZXIubWVzc2FnZSwKICAgICAgICAgICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBfdGhpczIubG9hZGluZy5jbG9zZSgpOwoKICAgICAgICAgICAgICAgICAgX3RoaXMyLiRtZXNzYWdlLmVycm9yKHJvdXRlci5tZXNzYWdlKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgZ2V0Q2hlY2tlZEtleXM6IGZ1bmN0aW9uIGdldENoZWNrZWRLZXlzKCkgewogICAgICBjb25zb2xlLmxvZyh0aGlzLmhhbmRsZU1lbnUpOyAvLyBsZXQgZGF0YXMgPSB7Li4udGhpcy5oYW5kbGVNZW51LHJvbGVzOnRoaXMuJHJlZnMudHJlZS5nZXRDaGVja2VkS2V5cygpfQogICAgICAvLyB0aGlzLnBvc3RVcFVzZXJSb3V0ZXJzKGRhdGFzKQogICAgfSwKICAgIGNhbmNlbDogZnVuY3Rpb24gY2FuY2VsKCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL21haW4vdXNlci1tYW5hZ2VtZW50Jyk7CiAgICB9LAogICAgc2V0Q2hlY2tlZEtleXNkOiBmdW5jdGlvbiBzZXRDaGVja2VkS2V5c2QoZGF0YSkgewogICAgICB2YXIgcm9sZXMgPSBkYXRhLmxlbmd0aCAmJiBkYXRhLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBpdGVtLmlkOwogICAgICB9KTsKICAgICAgdGhpcy4kcmVmcy50cmVlLnNldENoZWNrZWRLZXlzKHJvbGVzKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["/Users/lijiayu/Downloads/shangcheng-main/src/components/Basic-information/user-management/User-first.vue"],"names":[],"mappings":"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","sourcesContent":["\n<template>\n    <div>\n        <el-tree\n        :data=\"tableData\"\n        show-checkbox\n        default-expand-all\n        node-key=\"id\"\n        ref=\"tree\"\n        highlight-current\n        class=\"table-box-adapt table-box-scroll\"\n        :props=\"defaultProps\">\n        </el-tree>\n         <div class=\"menu-operation menu-operation-btn\">\n            <el-button  type=\"primary\" @click=\"getCheckedKeys\">保存</el-button>\n            <el-button  @click=\"cancel\">返回</el-button>\n        </div>\n    </div>\n</template>\n\n<script>\nimport {mapState} from 'vuex'\nimport { postUpUserRouter,postRouterpage } from \"../../../api/user\";\nimport {Router_tree} from '../../../util/router_tree'\nexport default {\n \n    data() {\n      return {\n        defaultProps: {\n          children: 'children',\n          label: 'title'\n        },\n        loading:{},\n        tableData:[],\n      };\n    },\n    computed: {\n         ...mapState({\n            handleMenu:state=>state.user.handleMenu,\n        }),\n    },\n    mounted(){\n    if(!this.handleMenu['username']){\n        let handleMenu =  JSON.parse(sessionStorage.getItem('HandleMenu'))\n        this.$store.dispatch('HandleMenu', handleMenu)\n    }\n    this.postRouterpagesa()\n    this.postRouterpagesa({userId:this.handleMenu.username})\n    },\n    methods: {\n         // 获取\n        async postRouterpagesa(data) {\n            this.loading = this.$loading({\n                lock: true,\n                text: '正在加载中',\n                spinner: 'el-icon-loading',\n                background: 'rgba(0, 0, 0, 0.7)'\n                });\n            let router = await postRouterpage(data);\n            if (router.code == 2000) {\n                this.loading.close();\n                if(data){\n                    this.setCheckedKeysd(router.data)\n                }else{\n                    this.tableData =Router_tree(router.data);\n                }\n            } else {\n                this.loading.close();\n                this.$message.error(data.message);\n            }\n        },\n         // \n        async postUpUserRouters(data) {\n            this.loading = this.$loading({\n                lock: true,\n                text: '正在加载中',\n                spinner: 'el-icon-loading',\n                background: 'rgba(0, 0, 0, 0.7)'\n            });\n            let router = await postUpUserRouter(data);\n            if (router.code == 2000) {\n                this.loading.close();\n                this.$message.success({\n                    message: router.message,\n                    type: \"success\",\n                });\n            } else {\n                this.loading.close();\n                this.$message.error(router.message);\n            }\n        },\n        getCheckedKeys() {\n            console.log(this.handleMenu)\n            // let datas = {...this.handleMenu,roles:this.$refs.tree.getCheckedKeys()}\n            // this.postUpUserRouters(datas)\n            \n        },\n        cancel(){\n            this.$router.push('/main/user-management')\n        },\n        setCheckedKeysd(data) {\n            let roles = data.length&&data.map(item=>item.id)\n            this.$refs.tree.setCheckedKeys(roles);\n        },\n    },\n    \n}\n</script>\n\n<style lang=\"less\" scoped>\n\n.menu-operation {\n  display: flex;\n  justify-content: flex-end;\n}\n.menu-operation-btn{\n    margin-top: 10px;\n}\n.table-box-scroll{\n    overflow: hidden;\n    overflow-y: scroll;\n}\n</style>"],"sourceRoot":""}]}