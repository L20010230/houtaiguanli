{"remainingRequest":"/Users/lijiayu/alijiayu/jiayuan/shangcheng-main/node_modules/babel-loader/lib/index.js!/Users/lijiayu/alijiayu/jiayuan/shangcheng-main/src/util/router_tree.js","dependencies":[{"path":"/Users/lijiayu/alijiayu/jiayuan/shangcheng-main/src/util/router_tree.js","mtime":1669541729000},{"path":"/Users/lijiayu/alijiayu/jiayuan/shangcheng-main/node_modules/cache-loader/dist/cjs.js","mtime":1669614083651},{"path":"/Users/lijiayu/alijiayu/jiayuan/shangcheng-main/node_modules/babel-loader/lib/index.js","mtime":1669614084006}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:cmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzIik7CgovLyDlpITnkIbnu4Tku7bmlofku7bot6/lvoTvvIzmnIDlkI7pnaLkvJrorrLkuLrku4DkuYjkvb/nlKjov5nnp43mlrnms5UKZnVuY3Rpb24gcm91dGVyQ29tKHBhdGgpIHsKICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIGltcG9ydCgiQC8iLmNvbmNhdChwYXRoKSk7CiAgfTsKfSAvLyDliqjmgIHot6/nlLHlpITnkIYKCgpleHBvcnRzLlJvdXRlcl90cmVlID0gZnVuY3Rpb24gKGpzb25EYXRhKSB7CiAgdmFyIGRhdGEgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHsKICAgIGlkOiAnaWQnLAogICAgcGlkOiAncGlkJwogIH07CiAgLy8g6L+b6KGM5o6S5bqPCiAganNvbkRhdGEuc29ydChmdW5jdGlvbiAoYSwgYikgewogICAgcmV0dXJuIGEuc29ydGlkIC0gYi5zb3J0aWQ7CiAgfSk7CiAgdmFyIHJlc3VsdHMgPSBbXSwKICAgICAgdGVtcHMgPSB7fSwKICAgICAgbGVucyA9IGpzb25EYXRhLmxlbmd0aDsKCiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5zOyBpKyspIHsKICAgIGpzb25EYXRhW2ldLm1ldGEgPSB7fTsKICAgIGpzb25EYXRhW2ldLm1ldGEua2VlcEFsaXZlID0ganNvbkRhdGFbaV1bJ2tlZXBBbGl2ZSddID09IDEgPyB0cnVlIDogZmFsc2U7CiAgICBqc29uRGF0YVtpXS5tZXRhLnRpdGxlID0ganNvbkRhdGFbaV1bJ3RpdGxlJ10gPyBqc29uRGF0YVtpXVsndGl0bGUnXSA6ICcnOyAvLyDku6VpZOS9nOS4uue0ouW8leWtmOWCqOWFg+e0oO+8jOWPr+S7peaXoOmcgOmBjeWOhuebtOaOpeW/q+mAn+WumuS9jeWFg+e0oAoKICAgIGpzb25EYXRhW2ldWydwYXRoJ10gPSAiL21haW4iLmNvbmNhdChqc29uRGF0YVtpXVsncGF0aCddKTsKICAgIGpzb25EYXRhW2ldWydjb21wb25lbnQnXSA9IHJvdXRlckNvbShqc29uRGF0YVtpXVsnY29tcG9uZW50J10pOwogICAgdGVtcHNbanNvbkRhdGFbaV1bZGF0YS5pZF1dID0ganNvbkRhdGFbaV07CiAgfQoKICBmb3IgKHZhciBqID0gMDsgaiA8IGxlbnM7IGorKykgewogICAgdmFyIGN1cnJlbnRFbGVtZW50ID0ganNvbkRhdGFbal07CiAgICB2YXIgdGVtcEN1cnJlbnRFbGVtZW50UGFyZW50ID0gdm9pZCAwOyAvLyDliKTmlq3mmK/lkKbmmK/kuIDnuqcKCiAgICBpZiAoISFjdXJyZW50RWxlbWVudFtkYXRhLnBpZF0pIHsKICAgICAgLy8g5Li05pe25Y+Y6YeP6YeM6Z2i55qE5b2T5YmN5YWD57Sg55qE54i25YWD57Sg77yM5Y2zcGlk55qE5YC877yM5LiO5om+5a+55bqUaWTlgLwKICAgICAgdGVtcEN1cnJlbnRFbGVtZW50UGFyZW50ID0gdGVtcHNbY3VycmVudEVsZW1lbnRbZGF0YS5waWRdXTsKICAgIH0gLy8g5aaC5p6c5a2Y5Zyo54i25YWD57Sg77yM5Y2z5aaC5p6c5pyJcGlk5bGe5oCnCgoKICAgIGlmICh0ZW1wQ3VycmVudEVsZW1lbnRQYXJlbnQpIHsKICAgICAgaWYgKCF0ZW1wQ3VycmVudEVsZW1lbnRQYXJlbnRbJ2NoaWxkcmVuJ10pIHsKICAgICAgICAvLyDorr7kuIrniLblhYPntKDnmoRjaGlsZHJlbumUrgogICAgICAgIHRlbXBDdXJyZW50RWxlbWVudFBhcmVudFsnY2hpbGRyZW4nXSA9IFtdOwogICAgICB9IC8vIOe7meeItuWFg+e0oOWKoOS4iuW9k+WJjeWFg+e0oOS9nOS4uuWtkOWFg+e0oAoKCiAgICAgIHRlbXBDdXJyZW50RWxlbWVudFBhcmVudFsnY2hpbGRyZW4nXS5wdXNoKGN1cnJlbnRFbGVtZW50KTsKICAgIH0gZWxzZSB7CiAgICAgIC8vIOS4jeWtmOWcqOeItuWFg+e0oO+8jOaEj+WRs+edgOW9k+WJjeWFg+e0oOaYr+S4gOe6p+WFg+e0oAogICAgICByZXN1bHRzLnB1c2goY3VycmVudEVsZW1lbnQpOwogICAgfQogIH0KCiAgOwogIHJldHVybiByZXN1bHRzOwp9Ow=="},{"version":3,"sources":["/Users/lijiayu/alijiayu/jiayuan/shangcheng-main/src/util/router_tree.js"],"names":["routerCom","path","exports","Router_tree","jsonData","data","id","pid","sort","a","b","sortid","results","temps","lens","length","i","meta","keepAlive","title","j","currentElement","tempCurrentElementParent","push"],"mappings":";;;;;;AAGA;AACA,SAASA,SAAT,CAAmBC,IAAnB,EAAyB;AACrB,SAAO;AAAA,WAAM,mBAAYA,IAAZ,EAAN;AAAA,GAAP;AACH,C,CACD;;;AACAC,OAAO,CAACC,WAAR,GAAoB,UAACC,QAAD,EAGhB;AAAA,MAH0BC,IAG1B,uEAH+B;AACjCC,IAAAA,EAAE,EAAC,IAD8B;AAEjCC,IAAAA,GAAG,EAAC;AAF6B,GAG/B;AACF;AACAH,EAAAA,QAAQ,CAACI,IAAT,CAAc,UAACC,CAAD,EAAGC,CAAH,EAAO;AACnB,WAAOD,CAAC,CAACE,MAAF,GAAWD,CAAC,CAACC,MAApB;AACD,GAFD;AAGA,MAAIC,OAAO,GAAG,EAAd;AAAA,MAAkBC,KAAK,GAAG,EAA1B;AAAA,MAA6BC,IAAI,GAAEV,QAAQ,CAACW,MAA5C;;AACA,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,IAApB,EAA0BE,CAAC,EAA3B,EAA+B;AAC7BZ,IAAAA,QAAQ,CAACY,CAAD,CAAR,CAAYC,IAAZ,GAAiB,EAAjB;AACAb,IAAAA,QAAQ,CAACY,CAAD,CAAR,CAAYC,IAAZ,CAAiBC,SAAjB,GAA6Bd,QAAQ,CAACY,CAAD,CAAR,CAAY,WAAZ,KAA0B,CAA1B,GAA4B,IAA5B,GAAiC,KAA9D;AACAZ,IAAAA,QAAQ,CAACY,CAAD,CAAR,CAAYC,IAAZ,CAAiBE,KAAjB,GAAyBf,QAAQ,CAACY,CAAD,CAAR,CAAY,OAAZ,IAAqBZ,QAAQ,CAACY,CAAD,CAAR,CAAY,OAAZ,CAArB,GAA0C,EAAnE,CAH6B,CAI7B;;AACAZ,IAAAA,QAAQ,CAACY,CAAD,CAAR,CAAY,MAAZ,mBAA8BZ,QAAQ,CAACY,CAAD,CAAR,CAAY,MAAZ,CAA9B;AACAZ,IAAAA,QAAQ,CAACY,CAAD,CAAR,CAAY,WAAZ,IAA2BhB,SAAS,CAACI,QAAQ,CAACY,CAAD,CAAR,CAAY,WAAZ,CAAD,CAApC;AACAH,IAAAA,KAAK,CAACT,QAAQ,CAACY,CAAD,CAAR,CAAYX,IAAI,CAACC,EAAjB,CAAD,CAAL,GAA6BF,QAAQ,CAACY,CAAD,CAArC;AAED;;AACD,OAAI,IAAII,CAAC,GAAC,CAAV,EAAaA,CAAC,GAACN,IAAf,EAAqBM,CAAC,EAAtB,EAAyB;AACvB,QAAIC,cAAc,GAAGjB,QAAQ,CAACgB,CAAD,CAA7B;AACA,QAAIE,wBAAwB,SAA5B,CAFuB,CAGvB;;AACA,QAAG,CAAC,CAACD,cAAc,CAAChB,IAAI,CAACE,GAAN,CAAnB,EAA8B;AAC3B;AACDe,MAAAA,wBAAwB,GAAIT,KAAK,CAACQ,cAAc,CAAChB,IAAI,CAACE,GAAN,CAAf,CAAjC;AACD,KAPsB,CAQtB;;;AACD,QAAGe,wBAAH,EAA4B;AAC1B,UAAG,CAACA,wBAAwB,CAAC,UAAD,CAA5B,EAAyC;AACvC;AACAA,QAAAA,wBAAwB,CAAC,UAAD,CAAxB,GAAsC,EAAtC;AACD,OAJyB,CAK1B;;;AACAA,MAAAA,wBAAwB,CAAC,UAAD,CAAxB,CAAqCC,IAArC,CAA0CF,cAA1C;AACD,KAPD,MAOK;AACH;AACAT,MAAAA,OAAO,CAACW,IAAR,CAAaF,cAAb;AACD;AACF;;AAAA;AACD,SAAOT,OAAP;AACD,CAzCD","sourcesContent":["\n\n\n// 处理组件文件路径，最后面会讲为什么使用这种方法\nfunction routerCom(path) {\n    return () => import(`@/${path}`)\n}\n// 动态路由处理\nexports.Router_tree=(jsonData,data={\n  id:'id',\n  pid:'pid'\n})=>{\n  // 进行排序\n  jsonData.sort((a,b)=>{\n    return a.sortid - b.sortid\n  })\n  let results = [], temps = {},lens= jsonData.length\n  for (let i = 0; i < lens; i++) {\n    jsonData[i].meta={}\n    jsonData[i].meta.keepAlive = jsonData[i]['keepAlive']==1?true:false\n    jsonData[i].meta.title = jsonData[i]['title']?jsonData[i]['title']:''\n    // 以id作为索引存储元素，可以无需遍历直接快速定位元素\n    jsonData[i]['path'] = `/main${jsonData[i]['path']}`;\n    jsonData[i]['component'] = routerCom(jsonData[i]['component']);\n    temps[jsonData[i][data.id]]= jsonData[i];\n\n  }\n  for(let j=0; j<lens; j++){\n    let currentElement = jsonData[j]\n    let tempCurrentElementParent \n    // 判断是否是一级\n    if(!!currentElement[data.pid]){\n       // 临时变量里面的当前元素的父元素，即pid的值，与找对应id值\n      tempCurrentElementParent  = temps[currentElement[data.pid]] \n    }\n     // 如果存在父元素，即如果有pid属性\n    if(tempCurrentElementParent){\n      if(!tempCurrentElementParent['children']){\n        // 设上父元素的children键\n        tempCurrentElementParent['children'] =[]\n      }\n      // 给父元素加上当前元素作为子元素\n      tempCurrentElementParent['children'].push(currentElement) \n    }else{\n      // 不存在父元素，意味着当前元素是一级元素\n      results.push(currentElement)\n    }\n  };\n  return results;\n}\n"]}]}