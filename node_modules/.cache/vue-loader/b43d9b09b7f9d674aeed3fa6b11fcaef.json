{"remainingRequest":"/Users/lijiayu/alijiayu/jiayuan/shangcheng-main/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/lijiayu/alijiayu/jiayuan/shangcheng-main/src/views/userList.vue?vue&type=style&index=0&id=4c96c4a3&scoped=true&lang=css","dependencies":[{"path":"/Users/lijiayu/alijiayu/jiayuan/shangcheng-main/src/views/userList.vue","mtime":1669690674398},{"path":"/Users/lijiayu/alijiayu/jiayuan/shangcheng-main/node_modules/css-loader/dist/cjs.js","mtime":1669614083819},{"path":"/Users/lijiayu/alijiayu/jiayuan/shangcheng-main/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js","mtime":1669614084206},{"path":"/Users/lijiayu/alijiayu/jiayuan/shangcheng-main/node_modules/postcss-loader/src/index.js","mtime":1669614083990},{"path":"/Users/lijiayu/alijiayu/jiayuan/shangcheng-main/node_modules/cache-loader/dist/cjs.js","mtime":1669614083651},{"path":"/Users/lijiayu/alijiayu/jiayuan/shangcheng-main/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":1669614084013}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5ib3h7CiAgcGFkZGluZzoxNXB4Owp9Ci5uZXdMaXN0ewogIGRpc3BsYXk6IGZsZXg7CiAgbWFyZ2luLWJvdHRvbTogMTVweDsKfQoubmV3TGlzdD5kaXZ7CiAgd2lkdGg6IDIwJTsKICBsaW5lLWhlaWdodDogMzZweDsKfQoubmV3TGlzdD4ubmV3bGlzdF9pbnB1dHsKICB3aWR0aDogODAlOwp9Ci50YWJsZXsKICBib3JkZXI6MXB4IHNvbGlkICNkZmU2ZWM7CiAgYm9yZGVyLWJvdHRvbTpub25lOwp9Ci5lbC10YWJsZV9fYm9keSwuZWwtdGFibGVfX2hlYWRlcnsKICB3aWR0aDoxMDAlICFpbXBvcnRhbnQ7Cn0KLnBhZ2V7CiAgbWFyZ2luLXRvcDoyMHB4Owp9Ci5zZWFyY2h7CiAgZGlzcGxheTpmbGV4OwogIG1hcmdpbi1ib3R0b206MTVweDsKfQouaW1wb3J0ewogIG1hcmdpbi1yaWdodDoxNXB4Owp9Ci5pbnB1dHsKICB3aWR0aDoyMDBweDsKICBtYXJnaW4tcmlnaHQ6MTVweDsKfQouYnV0dG9uewogIAp9Cg=="},{"version":3,"sources":["/Users/lijiayu/alijiayu/jiayuan/shangcheng-main/src/views/userList.vue"],"names":[],"mappings":";AAmNA,CAAC,CAAC,CAAC,CAAC;EACF,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACd;AACA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACN,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EACb,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;AACrB;AACA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACV,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;EACV,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;AACnB;AACA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACrB,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;AACZ;AACA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACJ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACxB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACpB;AACA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EAC/B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACvB;AACA,CAAC,CAAC,CAAC,CAAC,CAAC;EACH,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACjB;AACA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACL,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACZ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACpB;AACA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACL,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACnB;AACA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACJ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACX,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACnB;AACA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;;AAEP","file":"/Users/lijiayu/alijiayu/jiayuan/shangcheng-main/src/views/userList.vue","sourceRoot":"","sourcesContent":["<template>\n    <div class='box'>\n        <div class='search'>\n          <el-button @click=\"editUser\">新增</el-button>\n          <el-button style=\"margin-left:15px;\" :loading=\"downloadLoading\" type=\"primary\" @click=\"handleDownload\">导出</el-button>\n          <el-input style=\"margin-left:15px;\" v-model=\"searchName\" placeholder=\"请输入要查询的姓名\" class='input'></el-input>\n          <el-input v-model=\"searchPhone\" placeholder=\"请输入要查询的手机号\" class='input'></el-input>\n          <el-button type=\"primary\" plain class='button' @click='searchMess' :disabled='searchName == \"\" && searchPhone == \"\" '>查询</el-button>\n        </div>\n        <el-table size='mini' :data=\"tableData\" border highlight-current-row style=\"width: 100%;\">\n            <el-table-column v-for=\"(item,index) of tableHeader\" :key=\"index\" :prop=\"item.id\" :label=\"item.name\" />\n            <el-table-column prop=\"chanaddStudentge\" label=\"操作\" align='center'>\n              <template #default=\"scope\">\n                <el-button size='mini' type=\"\" @click=\"changeUser\">修改</el-button>\n                <el-button size='mini' type=\"danger\" @click=\"deletUser(scope.$index, scope.row)\">删除</el-button>\n              </template>\n            </el-table-column>\n        </el-table>\n          <el-dialog v-model=\"changeState\" :title=\"dialogType==='edit'?'修改信息':'新增账号'\" width=\"40%\">\n            <div class=\"newList\"><div>姓名：</div><el-input class=\"newlist_input\" v-model=\"user_name\" placeholder=\"请输入姓名\"></el-input></div>\n            <div class=\"newList\"><div>账号：</div><el-input type=\"number\" maxlength=\"11\" class=\"newlist_input\" v-model=\"userNumber\" placeholder=\"请输入账号\"></el-input></div>\n            <div class=\"newList\"><div>密码：</div><el-input show-password class=\"newlist_input\" v-model=\"userPassword\" placeholder=\"请输入密码\"></el-input></div>\n            <div class=\"newList\">\n              <div>角色：</div>\n              <el-select v-model=\"userRelo\" placeholder=\"请选择\" class='newlist_input'>\n                <el-option v-for=\"item in options\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\"></el-option>\n              </el-select>\n            </div>\n            <div class=\"dialog-footer\">\n              <el-button @click=\"changeState = false\">取 消</el-button>\n              <el-button type=\"primary\" @click=\"confirm\">确 定</el-button>\n            </div>\n          </el-dialog>\n        <el-pagination @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\" \n            :current-page=\"currentPage\" :page-sizes=\"[10, 200, 300, 400]\"\n            :page-size=\"10\" layout=\"total, sizes, prev, pager, next, jumper\" :total=\"tableData.length\" class='page'>\n        </el-pagination>\n    </div>\n</template>\n\n<script>\nimport UploadExcelComponent from '@/components/UploadExcel/index.vue'\n  export default {\n    components: { UploadExcelComponent },\n    data() {\n      return {\n        searchName:'', // 查询的名字\n        searchPhone:'', // 查询的手机号\n        userNumber:'',\n        user_name:'',\n        userPassword:'',\n        userRelo:'',\n        dialogType:'',\n        changeState: false,\n        tableHeader:[\n          {\n            id:'name',\n            name:'姓名'\n          },\n          {\n            id:'phone',\n            name:'联系方式'\n          },\n          {\n            id:'role',\n            name:'校长'\n          },\n        ],\n        tableData: [\n          {\n            'name':'李美丽',\n            'phone':13333333333,\n            'role':'校长',\n          },\n          {\n            'name':'李美丽',\n            'phone':13333333333,\n            'role':'校长',\n          },\n          {\n            'name':'李美丽',\n            'phone':13333333333,\n            'role':'校长',\n          },\n          {\n            'name':'李美丽',\n            'phone':13333333333,\n            'role':'校长',\n          },\n        ],\n        currentPage:1,\n        downloadLoading: false,\n        options: [\n          {\n            value: 1,\n            label: '管理员'\n          }, \n          {\n            value: 2,\n            label: '校长'\n          }, \n          {\n            value: 3,\n            label: '教师'\n          }, \n          {\n            value: 4,\n            label: '学生'\n          }\n        ],\n      }\n    },\n    methods: {\n      // 添加账号\n      editUser(){\n        this.changeState = true\n        this.dialogType = 'change'\n      },\n      // 修改账号\n      changeUser(){\n        this.changeState = true\n        this.dialogType = 'edit'\n      },\n      // 查询\n      searchMess(){\n        console.log(this.searchName,this.searchPhone)\n      },\n      handleSizeChange(val) {\n        console.log(val);\n      },\n      handleCurrentChange(val) {\n        console.log(val);\n      },\n      // 确认修改信息\n      confirm(){\n        if(this.user_name == ''){\n          this.$message.error('您还没有填写姓名哦~');\n        }else if(this.userNumber == '' || this.userNumber.length < 11){\n          this.$message.error('请您检查账号的正确性哦~');\n        }else if(this.userPassword == ''){\n          this.$message.error('您还没有填写密码哦~');\n        }else if(this.userRelo == ''){\n          this.$message.error('您还没有分配角色哦~');\n        }\n      },\n      // 删除账号\n      deletUser(e){\n        this.$confirm('此操作将永久删除该教师, 是否继续?', '提示', {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          type: 'warning'\n        }).then(() => {\n          this._data.tableData.splice(this._data.tableData.indexOf(e),1);\n          console.log(this._data.tableData)\n          this.$message({\n            type: 'success',\n            message: '删除成功!'\n          });\n        }).catch(() => {\n          this.$message({\n            type: 'info',\n            message: '已取消删除'\n          });          \n        });\n      },\n      // 导入xlsx\n      beforeUpload(file) {\n        const isLt1M = file.size / 1024 / 1024 < 1\n        if (isLt1M) {\n          return true\n        }\n        this.$message({\n          message: 'Please do not upload files larger than 1m in size.',\n          type: 'warning'\n        })\n        return false\n      },\n      // 导入成功后\n      handleSuccess({ results, header }) {\n        this.tableData = this.tableData.concat(results)\n        console.log(results,this.tableData)\n        // this.tableData = results\n        this.tableHeader = header\n      },\n      handleDownload() {\n        this.downloadLoading = true\n        import('@/vendor/Export2Excel').then(excel => {\n          const tHeader = ['name', 'phone', 'role']\n          const filterVal = ['name', 'phone', 'role']\n          const list = this.tableData\n          const data = this.formatJson(filterVal, list)\n          excel.export_json_to_excel({\n            header: tHeader,\n            data,\n          })\n          this.downloadLoading = false\n        })\n      },\n      formatJson(filterVal, jsonData) {\n        return jsonData.map(v => filterVal.map(j => {\n          if (j === 'timestamp') {\n            return parseTime(v[j])\n          } else {\n            return v[j]\n          }\n        }))\n      }\n    },\n  }\n</script>\n<style scoped>\n.box{\n  padding:15px;\n}\n.newList{\n  display: flex;\n  margin-bottom: 15px;\n}\n.newList>div{\n  width: 20%;\n  line-height: 36px;\n}\n.newList>.newlist_input{\n  width: 80%;\n}\n.table{\n  border:1px solid #dfe6ec;\n  border-bottom:none;\n}\n.el-table__body,.el-table__header{\n  width:100% !important;\n}\n.page{\n  margin-top:20px;\n}\n.search{\n  display:flex;\n  margin-bottom:15px;\n}\n.import{\n  margin-right:15px;\n}\n.input{\n  width:200px;\n  margin-right:15px;\n}\n.button{\n  \n}\n</style>"]}]}