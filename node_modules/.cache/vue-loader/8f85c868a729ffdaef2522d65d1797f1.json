{"remainingRequest":"/Users/lijiayu/Downloads/shangcheng-main/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/lijiayu/Downloads/shangcheng-main/src/components/Basic-information/role-management/management-add.vue?vue&type=style&index=0&id=6150ab84&lang=less&scoped=true","dependencies":[{"path":"/Users/lijiayu/Downloads/shangcheng-main/src/components/Basic-information/role-management/management-add.vue","mtime":1669541729000},{"path":"/Users/lijiayu/Downloads/shangcheng-main/node_modules/css-loader/dist/cjs.js","mtime":1669614083819},{"path":"/Users/lijiayu/Downloads/shangcheng-main/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js","mtime":1669614084206},{"path":"/Users/lijiayu/Downloads/shangcheng-main/node_modules/postcss-loader/src/index.js","mtime":1669614083990},{"path":"/Users/lijiayu/Downloads/shangcheng-main/node_modules/less-loader/dist/cjs.js","mtime":1669614083923},{"path":"/Users/lijiayu/Downloads/shangcheng-main/node_modules/cache-loader/dist/cjs.js","mtime":1669614083651},{"path":"/Users/lijiayu/Downloads/shangcheng-main/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":1669614084013}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5tZW51LWFkZGJveCB7CiAgd2lkdGg6IDUwdnc7CiAgbWFyZ2luOiBhdXRvOwogIGJhY2tncm91bmQ6ICNmZmY7CiAgLy8gcGFkZGluZzogMjBweCAxMHB4OwogIGJveC1zaXppbmc6IGJvcmRlci1ib3g7CiAgcG9zaXRpb246IGFic29sdXRlOwogIHRvcDogNTAlOwogIGxlZnQ6IDUwJTsKICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKTsKCWJvcmRlci1yYWRpdXM6IDVweDsKfQouYnRuLWJveCB7CiAgdGV4dC1hbGlnbjogY2VudGVyOwp9Ci5lbC1zZWxlY3R7Cgl3aWR0aDogMTAwJTsKfQoudGl0bGV7CiAgcGFkZGluZzogMTBweCAzMHB4OwogIGRpc3BsYXk6IGZsZXg7CiAganVzdGlmeS1jb250ZW50OnNwYWNlLWJldHdlZW47CiAgIGNvbG9yOiAjNjA2MjY2Owp9Ci5pY29uY2FsewogIGZvbnQtc2l6ZTogMjNweDsKICBjb2xvcjogI0MwQzRDQzsKfQouaWNvbmNhbDpob3ZlcnsKICBjb2xvcjogI0Y1NkM2QzsKfQouZGVtby1ydWxlRm9ybXsKICBtYXgtaGVpZ2h0OiA3MHZoOwogIG92ZXJmbG93OiBoaWRkZW47CiAgb3ZlcmZsb3cteTogc2Nyb2xsOwogIHBhZGRpbmc6IDEwcHggMzBweDsKfQo="},{"version":3,"sources":["/Users/lijiayu/Downloads/shangcheng-main/src/components/Basic-information/role-management/management-add.vue"],"names":[],"mappings":"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","file":"/Users/lijiayu/Downloads/shangcheng-main/src/components/Basic-information/role-management/management-add.vue","sourceRoot":"","sourcesContent":["<template>\n  <div class=\"bullet-frame\">\n    <div class=\"menu-addbox\">\n      <div class=\"title\">\n       <h3> {{editlist?\"修改\":\"添加\"}}</h3>\n        <i class=\"el-icon-circle-close iconcal\" @click=\"menuadd\"></i>\n      </div>\n      <el-form\n        :model=\"ruleForm\"\n        status-icon\n        :rules=\"rules\"\n        ref=\"ruleForm\"\n        label-width=\"100px\"\n        class=\"demo-ruleForm\"\n      >\n\t\t\t <el-form-item label=\"角色编号\" prop=\"id\" v-if=\"editlist\">\n          <el-input v-model=\"ruleForm.id\" disabled></el-input>\n        </el-form-item>\n        <el-form-item label=\"角色名称\" prop=\"jsmc\">\n          <el-input v-model=\"ruleForm.jsmc\" placeholder=\"角色名称\"></el-input>\n        </el-form-item>\n\t\t\t\t<el-form-item label=\"角色类型\" prop=\"jslx\">\n\t\t\t\t\t<el-select v-model=\"ruleForm.jslx\" placeholder=\"角色类型\">\n\t\t\t\t\t\t<el-option label=\"功能角色\" value=\"1\"></el-option>\n\t\t\t\t\t\t<el-option label=\"数据角色\" value=\"2\"></el-option>\n\t\t\t\t\t</el-select>\n\t\t\t\t</el-form-item>\n\n\t\t\t\t<el-form-item label=\"使用状态\" prop=\"syzt\">\n\t\t\t\t\t<el-select v-model=\"ruleForm.syzt\" placeholder=\"使用状态\" :disabled=\"(ruleForm.id&&ruleForm.id=='4000000000000007')?true:false\">\n\t\t\t\t\t\t<el-option label=\"启用\" value=\"1\"></el-option>\n\t\t\t\t\t\t<el-option label=\"冻结\" value=\"2\"></el-option>\n\t\t\t\t\t</el-select>\n\t\t\t\t</el-form-item>\n\t\t\t\t<el-form-item label=\"角色种类\" prop=\"jszl\">\n\t\t\t\t\t<el-select v-model=\"ruleForm.jszl\" placeholder=\"角色种类\">\n\t\t\t\t\t\t<el-option label=\"业务角色\" value=\"1\"></el-option>\n\t\t\t\t\t\t<el-option label=\"管理员角色\" value=\"2\"></el-option>\n\t\t\t\t\t</el-select>\n\t\t\t\t</el-form-item>\n        <el-form-item class=\"btn-box\">\n          <el-button type=\"primary\" @click=\"submitForm('ruleForm')\">\n            保存\n          </el-button>\n          <el-button @click=\"menuadd\">取消</el-button>\n        </el-form-item>\n      </el-form>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { postAddrolemanagement,postUpdateRoleManagement } from \"@/api/user\";\n\nexport default {\n  props: [\"menuadd\",\"editlist\"],\n  data() {\n    return {\n      ruleForm: {\n\t\t\t\tid:\"\",\n        jsmc: \"\",\n        jszl: \"1\",\n        syzt: \"1\",\n\t\t\t\tjslx: \"1\",\n      },\n      rules: {\n        id: [\n          { required: true, message: \"请选入角色名称\", trigger: [\"blur\",'change'] },\n        ],\n        jsmc: [\n          { required: true, message: \"请选入角色名称\", trigger: \"blur\" },\n        ],\n\t\t\t\tjszl: [\n          { required: true, message: \"请选择角色种类\", trigger: \"change\" },\n        ],\n\t\t\t\t syzt: [\n          { required: true, message: \"请选择使用状态\", trigger: \"change\" },\n        ],\n\t\t\t\t jslx: [\n          { required: true, message: \"请选择角色类型\", trigger: \"change\" },\n        ],\n      },\n    };\n  },\n\tmounted(){\n\t\t this.shows = Object.keys(this.editlist).length == 0 ? false : true;\n    if (this.shows) {\n      this.ruleForm = this.editlist;\n    }\n\t},\n  methods: {\n    async postAddrolemanagements(doc) {\n      let data = await postAddrolemanagement(doc);\n      if (data.code == 2000) {\n        this.$message.success({\n          message: \"添加成功\",\n          type: \"success\",\n        });\n        this.menuadd(\"addshou\");\n      } else {\n        this.$message.error(data.message);\n      }\n    },\n    async postUpdateRoleManagements(doc){\n      let data = await postUpdateRoleManagement(doc);\n      if (data.code == 2000) {\n        this.$message.success({\n          message: \"修改成功\",\n          type: \"success\",\n        });\n        this.menuadd(\"addshou\");\n      } else {\n        this.$message.error(data.message);\n      }\n    },\n    submitForm(formName) {\n        if(this.editlist){\n          this.$refs[formName].validate((valid) => {\n          if (valid) {\n            this.postUpdateRoleManagements(this.ruleForm)\n          } else {\n            return false;\n          }\n        });\n        }else{\n        this.$refs[formName].validate((valid) => {\n          if (valid) {\n\t\t\t\t\t  delete this.ruleForm.id\n\t\t\t\t\t\tthis.postAddrolemanagements(this.ruleForm)\n          } else {\n            return false;\n          }\n        });\n      }\n    },\n  },\n};\n</script>\n<style lang=\"less\" scoped>\n.menu-addbox {\n  width: 50vw;\n  margin: auto;\n  background: #fff;\n  // padding: 20px 10px;\n  box-sizing: border-box;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n\tborder-radius: 5px;\n}\n.btn-box {\n  text-align: center;\n}\n.el-select{\n\twidth: 100%;\n}\n.title{\n  padding: 10px 30px;\n  display: flex;\n  justify-content:space-between;\n   color: #606266;\n}\n.iconcal{\n  font-size: 23px;\n  color: #C0C4CC;\n}\n.iconcal:hover{\n  color: #F56C6C;\n}\n.demo-ruleForm{\n  max-height: 70vh;\n  overflow: hidden;\n  overflow-y: scroll;\n  padding: 10px 30px;\n}\n</style>"]}]}