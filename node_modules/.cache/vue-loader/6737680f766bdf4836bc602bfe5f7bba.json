{"remainingRequest":"/Users/lijiayu/alijiayu/jiayuan/shangcheng-main/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/lijiayu/alijiayu/jiayuan/shangcheng-main/src/components/Basic-information/form-configuration/from-to-configure-peizhi.vue?vue&type=style&index=0&id=6c6af13d&lang=less&scoped=true","dependencies":[{"path":"/Users/lijiayu/alijiayu/jiayuan/shangcheng-main/src/components/Basic-information/form-configuration/from-to-configure-peizhi.vue","mtime":1669541729000},{"path":"/Users/lijiayu/alijiayu/jiayuan/shangcheng-main/node_modules/css-loader/dist/cjs.js","mtime":1669614083819},{"path":"/Users/lijiayu/alijiayu/jiayuan/shangcheng-main/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js","mtime":1669614084206},{"path":"/Users/lijiayu/alijiayu/jiayuan/shangcheng-main/node_modules/postcss-loader/src/index.js","mtime":1669614083990},{"path":"/Users/lijiayu/alijiayu/jiayuan/shangcheng-main/node_modules/less-loader/dist/cjs.js","mtime":1669614083923},{"path":"/Users/lijiayu/alijiayu/jiayuan/shangcheng-main/node_modules/cache-loader/dist/cjs.js","mtime":1669614083651},{"path":"/Users/lijiayu/alijiayu/jiayuan/shangcheng-main/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":1669614084013}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5zZWxlY3Qtd2ggewogIHdpZHRoOiAxMDAlOwp9Ci5tZW51LWFkZGJveCB7CiAgd2lkdGg6IDU1dnc7CiAgbWFyZ2luOiBhdXRvOwogIGJhY2tncm91bmQ6ICNmZmY7CiAgYm94LXNpemluZzogYm9yZGVyLWJveDsKICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgdG9wOiA1MCU7CiAgbGVmdDogNTAlOwogIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC01MCUpOwogIGJvcmRlci1yYWRpdXM6IDVweDsKfQoudGl0bGUgewogIHBhZGRpbmc6IDEwcHggMzBweDsKICBkaXNwbGF5OiBmbGV4OwogIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsKICBjb2xvcjogIzYwNjI2NjsKfQouYnRuLWJveCB7CiAgdGV4dC1hbGlnbjogY2VudGVyOwp9Ci5kZW1vLXJ1bGVGb3JtIHsKICBoZWlnaHQ6IDcwdmg7CiAgb3ZlcmZsb3c6IGhpZGRlbjsKICBvdmVyZmxvdy15OiBzY3JvbGw7CiAgcGFkZGluZzogMjBweCAzMHB4Owp9Ci5pY29uY2FsIHsKICBmb250LXNpemU6IDIzcHg7CiAgY29sb3I6ICNjMGM0Y2M7Cn0KLmljb25jYWw6aG92ZXIgewogIGNvbG9yOiAjZjU2YzZjOwp9Ci50aXRsZXMtZmlsZXsKICBtYXJnaW46IDEwcHggMCA7CiAgZGlzcGxheTogZmxleDsKICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47Cn0K"},{"version":3,"sources":["/Users/lijiayu/alijiayu/jiayuan/shangcheng-main/src/components/Basic-information/form-configuration/from-to-configure-peizhi.vue"],"names":[],"mappings":"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","file":"/Users/lijiayu/alijiayu/jiayuan/shangcheng-main/src/components/Basic-information/form-configuration/from-to-configure-peizhi.vue","sourceRoot":"","sourcesContent":["<template>\n  <div class=\"bullet-frame\">\n    <div class=\"menu-addbox\">\n      <div class=\"title\">\n        <h3>表单配置</h3>\n        <i class=\"el-icon-circle-close iconcal\" @click=\"peizhiEixt()\"></i>\n      </div>\n      <el-form\n        :model=\"ruleForm\"\n        :rules=\"rules\"\n        ref=\"ruleForm\"\n        label-width=\"150px\"\n        class=\"demo-ruleForm\"\n      >\n        <el-form-item label=\"英文名称\" prop=\"formModel\" v-if=\"!isBtn\">\n          <el-input v-model=\"ruleForm.formModel\"></el-input>\n        </el-form-item>\n\n        <el-form-item label=\"属性名称\" prop=\"label\" v-if=\"!isBtn\">\n          <el-input v-model=\"ruleForm.label\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"表单类型\" prop=\"type\">\n          <el-select\n            class=\"select-wh\"\n            v-model=\"ruleForm.type\"\n            placeholder=\"请选择表单类型\"\n            filterable\n            @change=\"\n              typeChange({\n                key: 'type',\n                label: '表单类型',\n                value: ruleForm.type,\n              })\n            \"\n          >\n            <el-option label=\"text\" value=\"text\"></el-option>\n            <el-option label=\"password\" value=\"password\"></el-option>\n            <el-option label=\"select\" value=\"select\"></el-option>\n            <el-option label=\"switch\" value=\"switch\"></el-option>\n            <el-option label=\"checkbox\" value=\"checkbox\"></el-option>\n            <el-option label=\"radio\" value=\"radio\"></el-option>\n            <el-option label=\"textarea\" value=\"textarea\"></el-option>\n            <el-option label=\"date\" value=\"date\"></el-option>\n            <el-option label=\"daterange\" value=\"daterange\"></el-option>\n            <el-option label=\"button\" value=\"button\"></el-option>\n            <el-option label=\"custom\" value=\"custom\"></el-option>            \n          </el-select>\n        </el-form-item>\n         <el-form-item label=\"自定义名称\" prop=\"customName\" v-if=\"ruleForm.type=='custom'\">\n          <el-input v-model=\"ruleForm.customName\"></el-input>\n        </el-form-item>\n        <template v-if=\"ruleForm.type=='select'||ruleForm.type=='radio'||ruleForm.type=='checkbox'\">\n          <el-form-item label=\"字典来源\" prop=\"selectCustom\">\n            <el-select\n              class=\"select-wh\"\n              v-model=\"ruleForm.selectCustom\"\n              placeholder=\"请选择字典来源\"\n              filterable\n              @change=\"\n                typeChange({\n                  key: 'selectCustom',\n                  label: '字典来源',\n                  value: ruleForm.selectCustom,\n                })\n              \"\n            >\n              <el-option label=\"系统字典\" value=\"1\"></el-option>\n              <el-option label=\"自定义字典\" value=\"0\"></el-option>\n            </el-select>\n          </el-form-item>\n           <el-form-item label=\"字典配置\" prop=\"dictionaryKey\" v-if=\"ruleForm.selectCustom=='1'\">\n            <el-select\n              class=\"select-wh\"\n              v-model=\"ruleForm.dictionaryKey\"\n              placeholder=\"请选择字典配置\"\n              filterable\n              @change=\"\n                typeChange({\n                  key: 'dictionaryKey',\n                  label: '字典配置',\n                  value: ruleForm.dictionaryKey,\n                })\n              \"\n            >\n              <template v-for=\"(dicItem) in dicOption.diclist\" :key=\"dicItem.id\">\n                 <el-option :label=\"dicItem.dictionaryName\" :value=\"dicItem.dictionaryKey\"></el-option>\n              </template>\n            </el-select>\n          </el-form-item>\n          <el-form-item label=\"字典默认值\"  v-if=\"ruleForm.selectCustom=='1'\">\n            <!-- 下拉框 -->\n            <el-select\n                v-if=\"ruleForm.type=='select'\"\n                class=\"select-wh\"\n                v-model=\"ruleForm.dicDefault\"\n                placeholder=\"请选择\"\n                :clearable=\"true\"\n                filterable\n                @change=\"\n                  typeChange({\n                    key: 'dicDefault',\n                    label: '表单类型',\n                    value: ruleForm.dicDefault,\n                  })\n                \"\n              >\n                <template v-for=\"(dicItem) in dicDefaultList\" :key=\"dicItem.id\">\n                  <el-option :label=\"dicItem.dicValue\" :value=\"dicItem.dicKey\"></el-option>\n                </template>\n            </el-select>\n            <!-- 多选框 -->\n            <el-checkbox-group  v-if=\"ruleForm.type=='checkbox'\" v-model=\"ruleForm.dicDefault\"  :clearable=\"true\">\n                <template v-for=\"(dicItem) in dicDefaultList\" :key=\"dicItem.id\">\n                  <el-checkbox :label=\"dicItem.dicKey\" >{{dicItem.dicValue}}</el-checkbox>\n                </template>\n              </el-checkbox-group>\n            <!-- 单选框 -->\n             <el-radio-group  v-if=\"ruleForm.type=='radio'\" v-model=\"ruleForm.dicDefault\"  :clearable=\"true\">\n                <template  v-for=\"(dicItem) in dicDefaultList\" :key=\"dicItem.id\">\n                    <el-radio :label=\"dicItem.dicKey\" >{{dicItem.dicValue}}</el-radio>\n                </template>\n              </el-radio-group>\n          </el-form-item>\n        </template>\n        <el-form-item label=\"按钮名称\" prop=\"text\" v-if=\"isBtn\">\n          <el-input v-model=\"ruleForm.text\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"按钮方法名\" prop=\"btnFun\" v-if=\"isBtn\">\n          <el-input v-model=\"ruleForm.btnFun\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"按钮样式\" prop=\"btnType\" v-if=\"isBtn\">\n          <el-select\n            class=\"select-wh\"\n            v-model=\"ruleForm.btnType\"\n            filterable\n            placeholder=\"请选择按钮样式\"\n            @change=\"\n              typeChange({\n                key: 'btnType',\n                label: '按钮样式',\n                value: ruleForm.btnType,\n              })\n            \"\n          >\n            <el-option label=\"Default\" value=\"\"></el-option>\n            <el-option label=\"primary\" value=\"primary\"></el-option>\n            <el-option label=\"success\" value=\"success\"></el-option>\n            <el-option label=\"info\" value=\"info\"></el-option>\n            <el-option label=\"warning\" value=\"warning\"></el-option>\n            <el-option label=\"danger\" value=\"danger\"></el-option>\n          </el-select>\n        </el-form-item>\n        <template v-if=\"isplaceholder\">\n          <el-form-item label=\"默认提示\" prop=\"placeholder\" >\n            <el-input v-model=\"ruleForm.placeholder\"></el-input>\n          </el-form-item>\n        </template>\n        <el-form-item label=\"字体大小\" prop=\"size\">\n          <el-input v-model=\"ruleForm.size\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"是否禁用\" prop=\"disabled\">\n          <el-radio-group\n            @change=\"\n              typeChange({\n                key: 'disabled',\n                label: '是否禁用',\n                value: ruleForm.disabled,\n              })\n            \"\n            v-model=\"ruleForm.disabled\"\n          >\n            <el-radio label=\"0\">否</el-radio>\n            <el-radio label=\"1\">是</el-radio>\n          </el-radio-group>\n        </el-form-item>\n        <el-form-item label=\"是否校验状态\" prop=\"isCheck\" v-if=\"!isBtn\">\n          <el-radio-group\n            @change=\"\n              typeChange({\n                key: 'isCheck',\n                label: '是否校验状态',\n                value: ruleForm.isCheck,\n              })\n            \"\n            v-model=\"ruleForm.isCheck\"\n          >\n            <el-radio label=\"0\">否</el-radio>\n            <el-radio label=\"1\">是</el-radio>\n          </el-radio-group>\n        </el-form-item>\n        <el-form-item label=\"占有列数\" prop=\"occupiedColumns\">\n            <el-select\n              class=\"select-wh\"\n              v-model=\"ruleForm.occupiedColumns\"\n              placeholder=\"请选择\"\n              filterable\n              @change=\"\n                typeChange({\n                  key: 'occupiedColumns',\n                  label: '占有列数',\n                  value: ruleForm.occupiedColumns,\n                })\n              \"\n            >\n              <el-option label=\"1\" value=\"1\"></el-option>\n              <el-option label=\"2\" value=\"2\"></el-option>\n              <el-option label=\"3\" value=\"3\"></el-option>\n              <el-option label=\"4\" value=\"4\"></el-option>\n            </el-select>\n          </el-form-item>\n          <el-form-item label=\"是否显示\" prop=\"editlist\">\n            <el-radio-group\n              @change=\"\n                typeChange({\n                  key: 'editlist',\n                  label: '是否显示',\n                  value: ruleForm.editlist,\n                })\n              \"\n              v-model=\"ruleForm.editlist\"\n            >\n              <el-radio label=\"0\">否</el-radio>\n              <el-radio label=\"1\">是</el-radio>\n            </el-radio-group>\n         </el-form-item>\n\n        <template v-if=\"isChecks\" >\n          <el-button type=\"primary\" :disabled=\"ruleForm.rules.length==3\" @click=\"addIsValidator('ruleForm')\">\n            添加校验规则\n          </el-button>\n          <!-- <el-form-item class=\"fl\" label=\"虚拟SKU\" :prop=\"'sizeData.' + index + '.goods_sn'\" :rules=\"sizeData.goods_sn\" required> -->\n          <!-- <template> -->\n\n          <template v-for=\"(items, index) in ruleForm.rules\" :key=\"index\">\n            <!-- {{rulesList[index].required}} -->\n            <div class=\"titles-file\">\n              <div>配置校验规则{{ index + 1 }}</div>\n              <el-button size=\"mini\"\n              type=\"danger\" :disabled=\"ruleForm.rules.length==1\" @click=\"remIsValidator(items,index)\">\n            删除\n          </el-button>\n            </div> \n            <el-form-item\n              v-if=\"!items.isJygz2\"\n              label=\"校验是否加星号\"\n              :prop=\"'rules.' + index + '.required'\"\n              :rules=\"isRules.required\"\n              required\n            >\n              <el-radio-group\n                @change=\"\n                  typeChange({\n                    key: 'required',\n                    label: '校验是否加星号',\n                    value: items.required,\n                  })\n                \"\n                v-model=\"items.required\"\n              >\n                <el-radio label=\"0\">否</el-radio>\n                <el-radio label=\"1\">是</el-radio>\n              </el-radio-group>\n            </el-form-item>\n\n            <el-form-item\n              label=\"是否自定义校验规则\"\n              :prop=\"'rules.' + index + '.isValidator'\"\n              :rules=\"isRules.isValidator\"\n              required\n            >\n              <el-radio-group\n                @change=\"\n                  typeChange({\n                    key: 'isValidator',\n                    label: '是否自定义校验规则',\n                    value: items.isValidator,\n                  })\n                \"\n                v-model=\"items.isValidator\"\n              >\n                <el-radio label=\"0\">否</el-radio>\n                <el-radio label=\"1\">是</el-radio>\n              </el-radio-group>\n            </el-form-item>\n            <template v-if=\"items.isValidator == '0'\">\n              <el-form-item\n                label=\"设置小长度在\"\n                v-if=\"items.isJygz2\"\n              >\n                <el-input-number v-model=\"items.min\"></el-input-number>\n              </el-form-item>\n              <el-form-item\n                label=\"设置大长度在\"\n                v-if=\"items.isJygz2\"\n              >\n                <el-input-number v-model=\"items.max\"></el-input-number>\n              </el-form-item>\n\n              <el-form-item\n                label=\"校验提示\"\n                :prop=\"'rules.' + index + '.message'\"\n                :rules=\"isRules.message\"\n                required\n              >\n                <el-input v-model=\"items.message\"></el-input>\n              </el-form-item>\n            </template>\n            <el-form-item\n              label=\"自定义校验方法名称\"\n              v-if=\"items.isValidator == '1'\"\n              :prop=\"'rules.' + index + '.validator'\"\n              :rules=\"isRules.validator\"\n              required\n            >\n              <el-input v-model=\"items.validator\"></el-input>\n            </el-form-item>\n\n            <el-form-item\n              label=\"校验触发方式\"\n              :prop=\"'rules.' + index + '.trigger'\"\n              :rules=\"isRules.trigger\"\n              required\n            >\n              <el-select\n                class=\"select-wh\"\n                v-model=\"items.trigger\"\n                multiple\n                placeholder=\"校验触发方式\"\n                filterable\n                @change=\"\n                  typeChange({\n                    key: 'trigger',\n                    label: '校验触发方式',\n                    value: items.trigger,\n                  })\n                \"\n              >\n                <el-option label=\"blur\" value=\"blur\"></el-option>\n                <el-option label=\"change\" value=\"change\"></el-option>\n              </el-select>\n            </el-form-item>\n          </template>\n        </template>\n        <!-- </template> -->\n        <el-form-item class=\"btn-box\">\n          <el-button type=\"primary\" @click=\"submitForm('ruleForm')\"\n            >保存</el-button\n          >\n          <el-button @click=\"peizhiEixt()\">取消</el-button>\n        </el-form-item>\n      </el-form>\n    </div>\n  </div>\n</template>\n<script>\n// import { mapState } from \"vuex\";\nimport {postFormDictionaryPage} from '@/api/user'\nlet isValidatorLIsts=[]\nexport default {\n  props: [\"peizhiEixt\", \"rowList\"],\n  data() {\n    return {\n      shows: false,\n      Props: {\n        value: \"id\",\n        label: \"title\",\n        checkStrictly: true,\n      },\n      isplaceholder:true,\n      isBtn: false,\n      isChecks: false,\n      yuanDate: {},\n      isValidatorList: 1,\n      isValidators: false,\n      isJygz2: true,\n      dicDefaultList:[],\n      dicOption:{},\n      ruleForm: {\n        disabled: \"1\",\n        editlist: \"1\",\n        formModel: \"aasajd\",\n        isCheck: \"0\",\n        label: \"测试说的1\",\n        type: \"text\",\n        size: 14,\n        customName:'',\n        placeholder:'',\n        rules: [\n          {\n            isValidator: \"0\",\n            required: \"1\",\n            message: \"\",\n            trigger: [\"blur\", \"change\"],\n            min: '',\n            max: '',\n          },\n        ],\n        selectCustom:'',\n        dictionaryKey:\"\",\n        dicDefault:'',\n        btnFun: \"\",\n        btnType: \"\",\n        text: \"\",\n        occupiedColumns:\"1\",\n      },\n      rules: {\n        disabled: [\n          {\n            required: true,\n            message: \"请输入表单编号\",\n            trigger: [\"blur\", \"change\"],\n          },\n        ],\n        customName: [\n          {\n            required: true,\n            message: \"请输入自定义名称\",\n            trigger: [\"blur\", \"change\"],\n          },\n        ],\n        editlist: [\n          {\n            required: true,\n            message: \"请输选择是否显示\",\n            trigger: [\"blur\", \"change\"],\n          },\n        ],\n        formModel: [\n          {\n            required: true,\n            message: \"请输入表单名称\",\n            trigger: [\"blur\", \"change\"],\n          },\n        ],\n        isCheck: [\n          {\n            required: true,\n            message: \"请输选择是否校验状态\",\n            trigger: [\"blur\", \"change\"],\n          },\n        ],\n        label: [\n          {\n            required: true,\n            message: \"请输入表单名称\",\n            trigger: [\"blur\", \"change\"],\n          },\n        ],\n        type: [\n          {\n            required: true,\n            message: \"请输入表单名称\",\n            trigger: [\"blur\", \"change\"],\n          },\n        ],\n         selectCustom: [\n          {\n            required: true,\n            message: \"请选择字典来源\",\n            trigger: [\"blur\", \"change\"],\n          },\n        ],\n        dictionaryKey: [\n          {\n            required: true,\n            message: \"请选择字典配置\",\n            trigger: [\"blur\", \"change\"],\n          },\n        ],\n        size: [\n          {\n            required: true,\n            message: \"请输入表单名称\",\n            trigger: [\"blur\", \"change\"],\n          },\n        ],\n        text: [\n          {\n            required: true,\n            message: \"请输入按钮名称\",\n            trigger: [\"blur\", \"change\"],\n          },\n        ],\n        btnFun:[\n          {\n            required: true,\n            message: \"请输入按钮方法名\",\n            trigger: [\"blur\", \"change\"],\n          },\n        ],\n        occupiedColumns:[\n          {\n            required: true,\n            message: \"请选择占有列数\",\n            trigger: [\"blur\", \"change\"],\n          },\n        ],\n        placeholder:[\n          {\n            required: true,\n            message: \"默认提示\",\n            trigger: [\"blur\", \"change\"],\n          },\n        ],\n      },\n      isRules: {\n        isValidator: [\n          {\n            required: true,\n            message: \"请输入表单名称\",\n            trigger: [\"blur\", \"change\"],\n          },\n        ],\n        required: [\n          {\n            required: true,\n            message: \"请输入表单名称\",\n            trigger: [\"blur\", \"change\"],\n          },\n        ],\n        message: [\n          {\n            required: true,\n            message: \"请输入表单名称\",\n            trigger: [\"blur\", \"change\"],\n          },\n        ],\n        validator: [\n          {\n            required: true,\n            message: \"请输入表单名称\",\n            trigger: [\"blur\", \"change\"],\n          },\n        ],\n        trigger: [\n          {\n            required: true,\n            message: \"请输入表单名称\",\n            trigger: [\"blur\", \"change\"],\n          },\n        ],\n        min:[\n          {\n            required: true,\n            message: \"请输入表单名称\",\n            trigger: [ \"change\"],\n          },\n        ],\n        max:[\n          {\n            required: true,\n            message: \"请输入表单名称\",\n            trigger: [ \"change\"],\n          },\n        ],\n      },\n    };\n  },\n  created() {\n    // 修改\n    this.shows = Object.keys(this.rowList).length == 0 ? false : true;\n    if (this.shows) {\n      if (this.rowList.row.type == \"button\") {\n        this.isBtn = true;\n      }\n      if(!this.rowList.row.placeholder){\n        this.rowList.row.placeholder=`请输入${this.rowList.row.label}`\n      }\n      this.yuanDate = JSON.parse(JSON.stringify(this.rowList.row));\n      this.ruleForm = JSON.parse(JSON.stringify(this.rowList.row));\n      if(this.ruleForm.type=='checkbox'){\n         this.ruleForm.dicDefault= this.ruleForm.dicDefault?this.ruleForm.dicDefault.split(','):[]\n      }\n      if(this.ruleForm.type=='button'){\n        this.isChecks = false;\n        this.isBtn = true;\n      }else{\n        this.isChecks = this.ruleForm.isCheck=='1'? true:false;\n        this.isBtn = false;\n      }\n      if(this.ruleForm.isCheck=='1'){\n        this.isChecks = true;\n      }\n      if(this.ruleForm.type=='select'){\n        this.isplaceholder = true\n      }else if(this.ruleForm.type=='custom'||this.ruleForm.type=='checkbox'||this.ruleForm.type=== \"button\"||this.ruleForm.type=== \"radio\"||this.ruleForm.type=='switch'){\n        this.isplaceholder = false\n      }else{\n        this.isplaceholder = true\n      }\n    }\n    this.postFormDictionaryPages()\n  },\n\n  methods: {\n    async postFormDictionaryPages(){\n     let data = await postFormDictionaryPage()\n     if(data.code==2000){\n       this.dicOption = data.data\n       if(this.ruleForm.dictionaryKey){\n        this.dicDefaultList = this.dicOption.dicOption[this.ruleForm.dictionaryKey]\n      }\n     }else{\n        this.$message.error(data.message);\n     }\n    },\n\n    remIsValidator(data,index){\n      this.ruleForm.rules= this.ruleForm.rules.filter((item,idx)=>idx!=index)\n    },\n    // 方法使用\n    typeChange(event) {\n      if (event.key === \"type\") {\n        if (event.value === \"button\") {          \n          this.isChecks = false;\n          this.isBtn = true;\n          this.ruleForm.dicDefault=''\n          this.ruleForm.placeholder = ''\n        }else if(event.value=='checkbox'){\n          this.ruleForm.dicDefault=[]\n           this.ruleForm.placeholder = ''\n        }\n        if(event.value!='custom'){\n          this.ruleForm.customName=''\n          this.ruleForm.placeholder = ''\n        }else {\n          this.ruleForm.dicDefault=''\n          this.isChecks = this.ruleForm.isCheck=='1'? true:false;\n          this.isBtn = false;\n        }\n        console.log(event.value)\n        if(event.value=='select'){\n          this.isplaceholder = true\n          this.ruleForm.placeholder =`请选择${this.ruleForm.label}`\n        }else if(event.value=='custom'||event.value=='checkbox'||event.value === \"button\"||event.value === \"radio\"||event.value=='switch'){\n          this.isplaceholder = false\n          this.ruleForm.placeholder = ''\n        }\n        else{\n          this.isplaceholder = true\n          this.ruleForm.placeholder = `请输入${this.ruleForm.label}`\n        }\n      }\n      if (event.key === \"isCheck\") {\n        if (event.value === \"1\") {\n          this.isChecks = true;\n        } else {\n          this.isChecks = false;\n        }\n      }\n      if(event.key='dictionaryKey'){\n        this.dicDefaultList = this.dicOption.dicOption[this.ruleForm.dictionaryKey]\n      }\n    },\n    // 添加校验规则\n    addIsValidator() {\n      let lists = this.ruleForm.rules.filter((item) => item.isValidator == \"0\");\n      let obj = {\n        isJygz2:lists.length >= 1,\n        isValidator: \"0\",\n        required: \"1\",\n        message: \"\",\n        trigger: [\"blur\", \"change\"],\n      }\n      if(lists.length >= 1){\n        obj.min= 1;\n        obj.max= 100;\n       delete obj.required\n      }\n      this.ruleForm.rules.push(obj);\n    },\n    // 保存\n    submitForm(formName) {\n      this.$refs[formName].validate((valid) => {\n        if (valid) {\n          if (this.isBtn) {\n            this.ruleForm.label = \"\";\n            this.ruleForm.formModel = \"\";\n            this.ruleForm.isCheck = \"0\";\n            this.ruleForm.rules = [];\n          } else {\n            this.ruleForm.text = \"\";\n            this.ruleForm.btnType = \"\";\n            this.ruleForm.btnFun = \"\";\n          }\n          if(this.isplaceholder = false){\n              this.ruleForm.placeholder = \"\";\n          }\n          if (this.ruleForm.isCheck == \"0\") {\n            this.ruleForm.rules = [];\n          }\n          if(this.ruleForm.type!='checkbox'&&this.ruleForm.type!='select'&&this.ruleForm.type!='radio'){\n            this.ruleForm.dicDefault= ''\n            this.ruleForm.selectCustom=''\n            this.ruleForm.dictionaryKey = ''\n          }\n          if(this.ruleForm.type=='checkbox'){\n            this.ruleForm.dicDefault= this.ruleForm.dicDefault?this.ruleForm.dicDefault.join(','):'';\n          }\n          this.rowList.row = this.ruleForm;\n          this.peizhiEixt(this.rowList);\n        } else {\n          return false;\n        }\n      });\n    },\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.select-wh {\n  width: 100%;\n}\n.menu-addbox {\n  width: 55vw;\n  margin: auto;\n  background: #fff;\n  box-sizing: border-box;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  border-radius: 5px;\n}\n.title {\n  padding: 10px 30px;\n  display: flex;\n  justify-content: space-between;\n  color: #606266;\n}\n.btn-box {\n  text-align: center;\n}\n.demo-ruleForm {\n  height: 70vh;\n  overflow: hidden;\n  overflow-y: scroll;\n  padding: 20px 30px;\n}\n.iconcal {\n  font-size: 23px;\n  color: #c0c4cc;\n}\n.iconcal:hover {\n  color: #f56c6c;\n}\n.titles-file{\n  margin: 10px 0 ;\n  display: flex;\n  justify-content: space-between;\n}\n</style>"]}]}