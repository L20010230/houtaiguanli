{"remainingRequest":"/Users/lijiayu/alijiayu/jiayuan/shangcheng-main/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/lijiayu/alijiayu/jiayuan/shangcheng-main/src/views/login/login.vue?vue&type=style&index=0&id=a49090ce&lang=less","dependencies":[{"path":"/Users/lijiayu/alijiayu/jiayuan/shangcheng-main/src/views/login/login.vue","mtime":1669720549435},{"path":"/Users/lijiayu/alijiayu/jiayuan/shangcheng-main/node_modules/css-loader/dist/cjs.js","mtime":1669614083819},{"path":"/Users/lijiayu/alijiayu/jiayuan/shangcheng-main/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js","mtime":1669614084206},{"path":"/Users/lijiayu/alijiayu/jiayuan/shangcheng-main/node_modules/postcss-loader/src/index.js","mtime":1669614083990},{"path":"/Users/lijiayu/alijiayu/jiayuan/shangcheng-main/node_modules/less-loader/dist/cjs.js","mtime":1669614083923},{"path":"/Users/lijiayu/alijiayu/jiayuan/shangcheng-main/node_modules/cache-loader/dist/cjs.js","mtime":1669614083651},{"path":"/Users/lijiayu/alijiayu/jiayuan/shangcheng-main/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":1669614084013}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5kcm9wLXNoYWRvd3sKICAgIGhlaWdodDogMTAwJTsKICAgIHdpZHRoOiA2MCU7CiAgICBmaWx0ZXI6ICBkcm9wLXNoYWRvdygwcHggMjBweCAxMHB4IHJnYmEoMCwgMCwgMCwgMC41KSk7CiAgICBkaXNwbGF5OiBmbGV4OwogICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgICBhbGlnbi1pdGVtczogY2VudGVyOwp9Ci5sb2dpbi1ib3ggLmVsLWZvcm0taXRlbV9fbGFiZWx7CiAgY29sb3I6ICNmZmY7CiAgIHdpZHRoOiA4MHB4Owp9Ci5nbGFzc3sKICB3aWR0aDogMTAwJTsKICBoZWlnaHQ6IDEwMCU7CiAgYmFja2dyb3VuZDogdXJsKCcuLi8uLi9hc3NldHMvaW1ncy9sb2dpbi1iai5wbmcnKTsKICBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyOwogIGJhY2tncm91bmQtcG9zaXRpb246Y2VudGVyOwogIGNsaXAtcGF0aDogaW5zZXQoMjAwcHggMjAwcHgpOwogIGZpbHRlcjogYmx1cigyMHB4KTsKICBkaXNwbGF5OiBmbGV4OwogIGp1c3RpZnktY29udGVudDogY2VudGVyOwogIGFsaWduLWl0ZW1zOiBjZW50ZXI7Cn0KLmxvZ2luLWNvbnRhbmVyewogIHdpZHRoOiAxMDB2dzsKICBoZWlnaHQ6IDEwMHZoOwogIGJhY2tncm91bmQ6IHVybCgnLi4vLi4vYXNzZXRzL2ltZ3MvbG9naW4tYmoucG5nJyk7CiAgcG9zaXRpb246IHJlbGF0aXZlOwoKICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiBjZW50ZXI7CiAgYmFja2dyb3VuZC1zaXplOiBjb3ZlcjsKICBkaXNwbGF5OiBmbGV4OwogIGp1c3RpZnktY29udGVudDogY2VudGVyOwogIGFsaWduLWl0ZW1zOiBjZW50ZXI7CgogIC5sb2dpbi10aXRsZXsKICAgIGZvbnQtc2l6ZTogMjVweDsKICAgIG1hcmdpbi1ib3R0b206IDMwcHg7CiAgICBjb2xvcjogI2ZmZjsKICB9CiAgLnRvcC1ib3hzewogICAgZGlzcGxheTogZmxleDsKICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsKICB9CiAgLmxvZ2luLWJveHsKICAgIHdpZHRoOiA0MzBweDsKICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7CiAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICB0b3A6NTAlOwogICAgbGVmdDogNTAlOwogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwtNTAlKTsKICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgIHBhZGRpbmc6IDMwcHg7CiAgICBwYWRkaW5nLWJvdHRvbTogMTBweDsKICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7CiAgfQogIC5sb2dpbi1idG57CiAgICBtYXJnaW4tdG9wOjMwcHg7CiAgICB3aWR0aDogMjAwcHg7CiAgICBmb250LXNpemU6IDE2cHg7CiAgfQogIC5mbGV4ewogICAgZGlzcGxheTogZmxleDsKICB9CiAgLnZlcmktbXJ7CiAgICBtYXJnaW4tcmlnaHQ6IDEwJTsKICB9CiAgLnpjLWJ0bnsKICAgIGNvbG9yOiAjZmZmOwogICAgY3Vyc29yOiBwb2ludGVyOwogIH0KICAuemMtYnRuOmhvdmVyewogICAgY29sb3I6ICM0MDllZmY7CiAgfQp9Cg=="},{"version":3,"sources":["/Users/lijiayu/alijiayu/jiayuan/shangcheng-main/src/views/login/login.vue"],"names":[],"mappings":"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","file":"/Users/lijiayu/alijiayu/jiayuan/shangcheng-main/src/views/login/login.vue","sourceRoot":"","sourcesContent":["<template>\n  <div class=\"login-contaner\">\n    <div class=\"drop-shadow\">\n      <div class=\"glass\"></div>\n      <div class=\"login-box\">\n        <div class=\"top-boxs\">\n            <h2 class=\"login-title\">{{lgzcSt==0?\"登录\":\"注册\"}}</h2>\n            <!-- <div class=\"zc-btn\" @click=\"lgzcBtn\" >{{lgzcSt==1?\"登录\":\"注册\"}}</div> -->\n        </div>\n        <el-form :model=\"ruleForm\" :rules=\"rules\" ref=\"ruleForm\" class=\"demo-ruleForm\" @keydown=\"loginKeydown\">\n          <el-form-item label=\"用户名\" prop=\"user_name\">\n            <el-input v-model=\"ruleForm.user_name\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"密码\" prop=\"password\">\n            <el-input\n              type=\"password\"\n              v-model=\"ruleForm.password\"\n              autocomplete=\"off\"\n            ></el-input>\n          </el-form-item>\n            <el-form-item v-if=\"lgzcSt==1\"  label=\"确认密码\" prop=\"pass\">\n            <el-input\n              type=\"password\"\n              v-model=\"ruleForm.pass\"\n              autocomplete=\"off\"\n            ></el-input>\n          </el-form-item>\n          <!-- <el-form-item  label=\"验证码\" prop=\"verificationCode\">\n            <div class=\"flex\">\n              <el-input\n                class=\"veri-mr\"\n                v-model=\"ruleForm.verificationCode\"\n              ></el-input>\n              <div @click=\"refreshCode\" style=\"cursor: pointer;\">\n                  <Identify :identifyCode=\"identifyCode\" ></Identify>\n              </div>\n            </div>\n          </el-form-item> -->\n          <el-form-item >\n            <el-button v-if=\"lgzcSt==0\"  class=\"login-btn\" type=\"primary\" :disabled='showlogin' @click=\"submitForm('ruleForm')\">\n              {{showlogin?'登录中……':'登录'}}\n            </el-button>\n            <el-button v-if=\"lgzcSt==1\"  class=\"login-btn\" type=\"primary\" :disabled='showlogin' @click=\"submitZcForm('ruleForm')\">\n              {{showlogin?'注册中……':'注册'}}\n            </el-button>\n          </el-form-item>\n        </el-form>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { postLogin,getGetInfo,postRegister } from \"@/api/user\";\nimport Identify from './Identify.vue'\nimport md5 from 'js-md5';\nexport default {\n  components: {\n    Identify\n  },\n  data() {\n     var verificationCode = (rule, value, callback) => {\n      if (value === \"\") {\n        callback(new Error(\"请输入验证码\"));\n      } else if (value.length) {\n        if (this.ruleForm.verificationCode.toLowerCase() !== this.identifyCode.toLowerCase()) {\n           callback(new Error(\"请输入正确的验证码\"));\n        }\n        callback();\n      }\n    };\n     var validatePass = (rule, value, callback) => {\n      if (value === \"\") {\n        callback(new Error(\"请输入密码\"));\n      } else if (value.length < 6) {\n        callback(new Error(\"您输入密码长度小于6位\"));\n      } else {\n\n        if (this.lgzcSt==1&&this.ruleForm.pass !== \"\") {\n          this.$refs.ruleForm.validateField(\"checkPass\");\n        }\n        callback();\n      }\n    };\n    var validatePass2 = (rule, value, callback) => {\n      if (value === \"\") {\n        callback(new Error(\"请再次输入密码\"));\n      } else if (value !== this.ruleForm.password) {\n        callback(new Error(\"两次输入密码不一致!\"));\n      } else {\n        callback();\n      }\n    };\n    return {\n      lgzcSt:0,\n      // 验证码规则\n      identifyCodes: '123456789ABCDEFGHGKMNPQRSTUVWXYZabcdefghgkmnpqrstuvwxyz',\n      identifyCode:'',\n      ruleForm: {\n        user_name: \"\",\n        password: \"\",\n        verificationCode:\"\",\n        pass:\"\"\n      },\n      rules: {\n        user_name: [\n          { required: true, message: \"请输入用户名称\", trigger: \"blur\" },\n        ],\n        password: [{ required: true, validator: validatePass, trigger: \"blur\" }],\n        pass: [\n          { required: true, validator: validatePass2, trigger: \"blur\" },\n        ],\n        verificationCode: [\n          { required: true, message: \"请输入验证码\", trigger: \"blur\" },\n          { required: true, validator: verificationCode, trigger: \"blur\" }\n        ],\n      },\n      loading:{},\n      showlogin:false\n    };\n  },\n  created(){\n    sessionStorage.clear()\n  },\n  mounted() {\n    this.refreshCode()\n  },\n  methods: {\n    lgzcBtn(){\n     if( this.lgzcSt==0){\n       this.lgzcSt =1\n     }else{\n       this.lgzcSt = 0\n     }\n     this.refreshCode()\n    },\n    // 切换验证码\n    refreshCode() {\n      this.identifyCode = ''\n      this.makeCode(this.identifyCodes, 4)\n      // console.log(this.identifyCode)\n    },\n    // 生成随机验证码\n    makeCode(o, l) {\n      for (let i = 0; i<l; i++) {\n        this.identifyCode += this.identifyCodes[\n            Math.floor(Math.random() * (this.identifyCodes.length - 0) + 0)\n        ]\n      }\n    },\n    async postRegisters(doc) {\n      let data = await postRegister(doc);\n      if (data.code == 2000) {\n        this.$message.success({\n          message: \"注册成功\",\n          type: \"success\",\n        });\n        this.lgzcSt=0;\n        this.showlogin = false\n      } else {\n        this.showlogin = false\n        this.refreshCode()\n        this.$message.error(data.message);\n      }\n    },\n    // 注册\n    submitZcForm(formName) {\n      this.$refs[formName].validate((valid) => {\n        if (valid) {\n          let {user_name,password} = this.ruleForm\n          let psw2 = parseInt(password,16).toString()\n          password = md5(psw2)\n          this.postRegisters({\n              user_name,\n              password,\n          });\n        } else {\n          return false;\n        }\n      });\n    },\n    // 获取用户信息\n    async getGetInfos(doc){\n        let data = await getGetInfo(doc)\n        if(data.status === 200){\n            this.$store.dispatch('user/CloseTabList',[])\n            this.$store.dispatch('user/LoginSt',2)\n            this.$store.dispatch('user/UserList',data.data)\n            let userList =JSON.parse(sessionStorage.getItem('userList'))\n            sessionStorage.setItem('LoginSt',2)\n            sessionStorage.setItem('userList',JSON.stringify({...data.data,...userList}))\n            this.$router.replace('/main')\n            this.loading.close();\n            this.showlogin = false \n        }else{\n          this.loading.close();\n          this.$message.error(data.message);\n           this.showlogin = false \n        }\n         if(this.showlogin){\n          setTimeout(() => {\n            this.loading.close();\n            this.showlogin = false \n          }, 5000);\n        }\n    },\n    // 登录\n    async postLogins(doc){\n        this.loading = this.$loading({\n          lock: true,\n          text: '正在加载中',\n          spinner: 'el-icon-loading',\n          background: 'rgba(0, 0, 0, 0.7)'\n        });\n        this.showlogin = true \n        let data = await postLogin(doc)\n        if(!data){\n          this.loading.close();\n          this.refreshCode()\n          this.showlogin = false \n          this.$message.error('服务器异常请联系管理员');\n          return\n        }\n        if(data.status == 200){\n          this.$store.dispatch('user/Roterlist',[]);\n          this.$store.dispatch('user/RouterPath','/main/home');\n          this.$router.push(\"/main\");\n          this.getGetInfos(data)\n          sessionStorage.setItem('userList',JSON.stringify(data.token))\n        } else{\n          this.loading.close();\n          this.refreshCode()\n          this.$message.error(data.msg);\n          this.showlogin = false \n        }\n        if(this.showlogin){\n          setTimeout(() => {\n            this.refreshCode()\n            this.loading.close();\n            this.showlogin = false \n          }, 5000);\n        }\n    },\n    loginKeydown(e){\n      if(e.keyCode===13){\n        this.submitForm('ruleForm')\n      }\n    },\n    submitForm(formName) {\n      this.$refs[formName].validate((valid) => {\n        if (valid) {\n          let {user_name,password} = this.ruleForm\n          // 加密密码\n          // let psw2 = parseInt(password,16).toString()\n          // password = md5(psw2)\n          this.postLogins({\n            user_name,\n            password\n          })\n        } else {\n          return false;\n        }\n      });\n    },\n    resetForm(formName) {\n      this.$refs[formName].resetFields();\n    },\n  },\n};\n</script>\n<style lang=\"less\" >\n.drop-shadow{\n    height: 100%;\n    width: 60%;\n    filter:  drop-shadow(0px 20px 10px rgba(0, 0, 0, 0.5));\n    display: flex;\n    justify-content: center;\n    align-items: center;\n}\n.login-box .el-form-item__label{\n  color: #fff;\n   width: 80px;\n}\n.glass{\n  width: 100%;\n  height: 100%;\n  background: url('../../assets/imgs/login-bj.png');\n  background-size: cover;\n  background-position:center;\n  clip-path: inset(200px 200px);\n  filter: blur(20px);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.login-contaner{\n  width: 100vw;\n  height: 100vh;\n  background: url('../../assets/imgs/login-bj.png');\n  position: relative;\n\n  background-position: center;\n  background-size: cover;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  .login-title{\n    font-size: 25px;\n    margin-bottom: 30px;\n    color: #fff;\n  }\n  .top-boxs{\n    display: flex;\n    justify-content: space-between;\n  }\n  .login-box{\n    width: 430px;\n    border-radius: 10px;\n    position: absolute;\n    top:50%;\n    left: 50%;\n    transform: translate(-50%,-50%);\n    text-align: center;\n    padding: 30px;\n    padding-bottom: 10px;\n    box-sizing: border-box;\n  }\n  .login-btn{\n    margin-top:30px;\n    width: 200px;\n    font-size: 16px;\n  }\n  .flex{\n    display: flex;\n  }\n  .veri-mr{\n    margin-right: 10%;\n  }\n  .zc-btn{\n    color: #fff;\n    cursor: pointer;\n  }\n  .zc-btn:hover{\n    color: #409eff;\n  }\n}\n</style>"]}]}